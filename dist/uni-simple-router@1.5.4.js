!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return r})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return u})),n.d(e,"g",(function(){return i})),n.d(e,"f",(function(){return s}));const o={h5:{rewriteFun:!0,paramsToQuery:!1,loading:!0,hinderTab:!1,vueRouterDev:!1,useUniConfig:!0,keepUniIntercept:!1,vueNext:!1,replaceStyle:!1,resetStyle:()=>JSON.parse("{}"),mode:"hash",base:"/",linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",scrollBehavior:(t,e,n)=>n,fallback:!0},APP:{holdTabbar:!1,rewriteFun:!1,loddingPageStyle:()=>JSON.parse('{"backgroundColor":"#FFF"}'),loddingPageHook:()=>{plus.navigator.closeSplashscreen()},holdTabbarStyle:()=>JSON.parse("{}"),animation:{animationType:"pop-in",animationDuration:300},switchPageOutTime:1e3},debugger:!1,encodeURI:!0,routerBeforeEach:()=>{},routerAfterEach:()=>{},routes:[]},r={push:"navigateTo",replace:"redirectTo",replaceAll:"reLaunch",pushTab:"switchTab",back:"navigateBack"},c={push:"push",replace:"replace",replaceAll:"replace",pushTab:"replace"},a={beforeHooks:[],afterHooks:[],routerHooks:[],routerbeforeHooks:[],routerAfterHooks:[]},u={Router:{},vueRouter:{},addedRoutes:[],RouterReadyPromise:()=>{},H5RouterReady:null,$holdTab:null,backLayerC:1,LockStatus:!1},i={indexVue:{},toutiaoIndexThis:{},appVue:{},onLaunch:{fun:[],args:{},isHijack:!1},onShow:{fun:[],args:{},isHijack:!1},variationFuns:["onReady","onUnload"],waitHooks:{},indexCallHooks:["onLoad","onReady","created","onShow"],needHooks:["onLoad","onReady","onShow","created","onHide","onUnload","onResize"],pageReady:!1,onLaunched:!1},s=function(t={}){return{...t,params:{},query:{}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return u}));var o=n(0);const r=function(t,e,n){if(!n){const e=o.a.Router.CONFIG.debugger,n="[object Object]"===e.toString();if(!1===e)return!1;if(!1===e)return!1;if(n&&!1===e[t])return!1}console[t](e)},c=function(t,e=!1){r("error",t,e)},a=function(t,e=!1){r("warn",t,e)},u=function(t,e=!1){r("log",t,e)}},function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"h",(function(){return h})),n.d(e,"i",(function(){return _})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return b})),n.d(e,"j",(function(){return g}));var o=n(0),r=n(5),c=n(1);const a=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},u=function(t){return"[object Object]"===t.toString()&&t.constructor===Object},i=function(t=!1){let e="";return e="APPNVUE",e="APP",e="H5",e="ALIPAY",e="BAIDU",e="QQ",e="WEIXIN",e="TOUTIAO",t&&(e="APPLETS"),e},s=function(...t){!0===t[t.length-1]&&Object(c.b)(t)},l=function(t){if(!t.routes||t.routes.constructor!==Array)return Object(c.a)("路由参数 'routes' 必须传递 \r\n\r\n"+JSON.stringify(t));if(null!=t.h5&&t.h5.constructor!==Object)return Object(c.a)("h5参数传递错误，应该是一个 'Object' 类型 示例：\r\n\r\n"+JSON.stringify(o.c.h5));const e=Object.create(null),n=Object.keys(o.c);for(let c=0;c<n.length;c+=1){const a=n[c];null!=t[a]?t[a].constructor===Object?e[a]={...o.c[a],...t[a]}:e[a]="routes"==a?[...o.c[a],...t[a],...r.a]:t[a]:e[a]=o.c[a]}return e},f=function(t,e,n){if(n){const n={},o=/([^=&\s]+)[=\s]*([^&\s]*)/g;for(;o.exec(e);)n[RegExp.$1]=RegExp.$2;return{url:t,query:n}}const o=[],r=Object.keys(e);for(let a=0;a<r.length;a+=1){const u=r[a];let i="";e[u].constructor==Object?(i=f(t,e[u],n).query,o.push(i)):(c=e[u],i=c=(c=(c=(c=(c=(c=(c=(c=(c+="").replace(/%/g,"%25")).replace(/\+/g,"%2B")).replace(/ /g,"%20")).replace(/\//g,"%2F")).replace(/\?/g,"%3F")).replace(/&/g,"%26")).replace(/=/g,"%3D")).replace(/#/g,"%23"),o.push(`${u}=${i}`))}var c;return{url:t,query:o.join("&")}},h=function(t,e,n=!1){return o.a.Router.CONFIG.encodeURI?function(t,e,n){return n?{url:t,query:JSON.parse(decodeURIComponent(e.replace(/^query=/,"")))}:{url:t,query:"query="+encodeURIComponent(JSON.stringify(e))}}(t,e,n):f(t,e,n)},p=function(t,e,n,o=!1){const r={};let u=0;for(;;){const i=e[u];if(null==i)return o||Object(c.a)(`路由表中未查找到 '${n}' 为 '${t[n]}'`),{path:"",name:""};if(null!=i[n]&&i[n]===t[n])return o?i:(r.url=i.path,r.rule=i,a()&&(r.url=i.aliasPath||i.path),r);u+=1}},_=function(t,e,n={},r="path"){return{...Object(o.f)(p({...e},t.CONFIG.routes,r,t)),query:n}},d=function(t){switch(t.trim()){case"query=%7B%7D":case"%7B%7D":case"?query=%7B%7D":case"?":case"?[object Object]":case"?query={}":t="";break;default:Object(c.c)("url已经很完美啦，不需要格式化！")}return t},b=function(t){return JSON.parse(JSON.stringify(t))},g=function(t){return JSON.stringify(JSON.parse(t))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return fromatRoutes})),__webpack_require__.d(__webpack_exports__,"h",(function(){return nameToRute})),__webpack_require__.d(__webpack_exports__,"d",(function(){return formatUserRule})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getRouterNextInfo})),__webpack_require__.d(__webpack_exports__,"j",(function(){return vueDevRouteProxy})),__webpack_require__.d(__webpack_exports__,"c",(function(){return encodeURLQuery})),__webpack_require__.d(__webpack_exports__,"i",(function(){return strPathToObjPath})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getPages})),__webpack_require__.d(__webpack_exports__,"a",(function(){return H5GetPageRoute})),__webpack_require__.d(__webpack_exports__,"b",(function(){return diffRouter}));var _helpers_warn__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_helpers_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_patch_applets_patch__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_proxy_proxy__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6);const pagesConfigReg=/props:\s*\(.*\)\s*(\([\s\S]*\))\s*},/,pagesConfigRegCli=/props:\s*Object\.assign\s*(\([\s\S]*\))\s*},/,defRoutersReg=/props:\s*{([\s\S]+)}\s*},/,resolveRender=function({component:t,components:e},n,o){return null!=e&&Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.c)("vueRouterDev:false时 路由表配置中 ‘components’ 无效，\r\n\r\n "+JSON.stringify(n)),1!=o&&("*"==n.path||(null==t?Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)("vueRouterDev:false时 路由表中 ‘component’ 选项不能为空：\r\n\r\n "+JSON.stringify(n)):void(t.constructor===Function?n.component={render:t}:t.constructor===Object?null!=t.render&&t.render.constructor===Function||Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)("vueRouterDev:false时 路由表配置中 ‘render’ 函数缺失或类型不正确：\r\n\r\n "+JSON.stringify(n)):Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)("vueRouterDev:false时 路由表配置中 ‘component’ 选项仅支持 Function、Object 类型。并确保 Object 类型时传递了 ‘render’ 函数  ：\r\n\r\n "+JSON.stringify(n)))))},resloveChildrenPath=function(t,e,n){for(let o=0;o<e.length;o+=1){const r=e[o];resolveRender(r,r,n),null!=r.path?t[r.path]={...r,_ROUTERPATH:!0}:t[r.aliasPath]={...r,_ROUTERPATH:!1},r.children&&r.children.constructor===Array&&resloveChildrenPath(t,r.children,n)}},fromatRoutes=function(t,e,{vueRouterDev:n,useUniConfig:o}){if(e&&n)return t;const r={};for(let n=0;n<t.length;n+=1){const c=t[n],a="/"===c.path?c.alias:c.path;e&&(c.children&&c.children.constructor===Array&&resloveChildrenPath(r,c.children,o),resolveRender(c,c,o)),r[a]={...c,_PAGEPATH:a.substring(1)}}return r},getFuntionConfig=function(FunStr){let matchText=FunStr.match(pagesConfigReg),prefix="";if(null==matchText)if(matchText=FunStr.match(pagesConfigRegCli),null==matchText)try{matchText=FunStr.match(defRoutersReg)[1],matchText=eval(`Object.assign({${matchText}})`),prefix="system-"}catch(t){Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)("读取uni-app页面构建方法配置错误 \r\n\r\n "+t)}else matchText=eval("Object.assign"+matchText[1]);else matchText=eval("Object.assign"+matchText[1]);return{config:matchText,prefix:prefix,FunStr:FunStr}},pathToRute=function(t,e){let n="",o={};const r=Object.keys(e);for(let c=0;c<r.length;c+=1){const a=e[r[c]];if(o=a,a.aliasPath==t){n="aliasPath";break}if("/"+a._PAGEPATH==t){n="path";break}}return{PATHKEY:{[n]:t},rute:o}},nameToRute=function(t,e){const n=Object.keys(e);for(let o=0;o<n.length;o+=1){const r=e[n[o]];if(r.name==t)return r}Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)(`路由表中没有找到 name为:'${t}' 的路由`)},formatUserRule=function(t,e,n){let o="";const r=(o="query",t.query||(o="params",t.params)||(o="",{}));let c={};if(""==o&&null!=t.name&&(o="params"),"params"!=o){const n=pathToRute(t.path||t,e);if(""==Object.keys(n.PATHKEY)[0])return Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)(`'${n.PATHKEY[""]}' 路径在路由表中未找到`),null;c=n.rute,t.path&&(t.path=c.path)}if(""!=o){if("params"==o&&n.h5.paramsToQuery){const{aliasPath:n,path:r}=nameToRute(t.name,e);delete t.name,delete t.params,t.path=n||r,o="query"}let{query:c}=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.h)(o,r,!1);n.encodeURI?(c=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.d)(c),""!=c&&(t[o]={query:c.replace(/^query=/,"")})):t[o]=r}else t=c.path;return t},getRouterNextInfo=function(t,e,n){let[o,r]=[t,e];const c=n.CONFIG.h5;if(!1===c.vueNext&&!1===c.vueRouterDev){let[c,a]=[{},{}];c[t.meta.PATHKEY]="path"===t.meta.PATHKEY?"/"+t.meta.pagePath:""+t.path,a[e.meta.PATHKEY]="path"===e.meta.PATHKEY?"/"+e.meta.pagePath:""+e.path,null==t.meta.PATHKEY&&(c=pathToRute(t.path,n.selfRoutes).PATHKEY),null==e.meta.PATHKEY&&(a=pathToRute(e.path,n.selfRoutes).PATHKEY);const u=0!=Object.keys(t.query).length?Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(t.query):Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(t.params),i=0!=Object.keys(e.query).length?Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(e.query):Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(e.params);delete u.__id__,delete i.__id__;const s=Object(_patch_applets_patch__WEBPACK_IMPORTED_MODULE_2__.b)({query:u}).query,l=Object(_patch_applets_patch__WEBPACK_IMPORTED_MODULE_2__.b)({query:i}).query;o=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.i)(n,c,s,Object.keys(c)[0]),r=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.i)(n,a,l,Object.keys(a)[0])}else null==r.name&&null!=o.name&&(r={...r,name:o.name});return{toRoute:o,fromRoute:r}},vueDevRouteProxy=function(t,e){const n=[];for(let o=0;o<t.length;o+=1){const r=t[o],c=Reflect.get(r,"children");if(null!=c){const t=vueDevRouteProxy(c,e);r.children=t}const a=Object(_proxy_proxy__WEBPACK_IMPORTED_MODULE_3__.a)(e,r);n.push(a)}return n},encodeURLQuery=function(t,e,n){let o="";if(o=!0===t.encodeURI&&!1===t.h5.vueRouterDev?"?query="+encodeURIComponent(Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.j)(e.query||"{}")):"?"+Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.h)("",e,!1).query,o=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.d)(o),"history"===n){const t=o.replace(/\?query=/,t=>(""!=t&&(o={query:""}),""));o.constructor===Object&&(o.query=t)}return o},strPathToObjPath=function(t){return null==t||Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.f)(t)?t:{path:t}},getPages=function(t=0,e){return getCurrentPages(e).reverse()[t]},H5GetPageRoute=function(t,e){if(t.length>0){const e=t[t.length-1].$route;return getRouterNextInfo(e,e,this).toRoute}return e&&e.$route?getRouterNextInfo(e.$route,e.$route,this).toRoute:{}},diffRouter=function(t,e,n,o){const r=[];if(n){const n=o||e.options.routes,c=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(t.selfRoutes);if(n.forEach(e=>{const n="/"===e.path?e.alias:e.path,o=t.vueRoutes[n]||t.vueRoutes[e.path]||t.selfRoutes[n],a=t.selfRoutes[n];if(delete c[n],null==a)return Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)(`读取 ‘pages.json’ 中页面配置错误。实例化时传递的路由表中未找到路径为：${n} \r\n\r\n 可以尝试把 ‘useUniConfig’ 设置为 ‘false’。或者配置正确的路径。如果你是动态添加的则不用理会`);let u={config:{}};o.component&&(u=getFuntionConfig(o.component.render.toString()),a.component={render:t=>o.component.render(t)}),delete a.components,delete a.children,a.meta={...u.config,...e.meta||{},PATHKEY:a.aliasPath?"aliasPath":"path",pagePath:a.path.substring(1)},a.path=a.aliasPath||("/"===e.path?e.path:a.path),e.alias="/"===e.path?e.alias:a.path;const i=Object(_proxy_proxy__WEBPACK_IMPORTED_MODULE_3__.a)(t,a);r.push(i)}),Object.keys(c).length>0){if(c["*"]&&null==o){const e=Object(_proxy_proxy__WEBPACK_IMPORTED_MODULE_3__.a)(t,t.selfRoutes["*"]);r.push(e)}if(null==o){const t=Object.keys(c);for(let e=0;e<t.length;e+=1){const n=t[e];"*"!==n&&Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.c)(`实例化时传递的routes参数：\r\n\r\n ${JSON.stringify(c[n])} \r\n\r\n 在pages.json中未找到。自定排除掉，不会添加到路由中`)}}}}else{const e=o||t.selfRoutes,n=Object.keys(e);for(let o=0;o<n.length;o+=1){const c=e[n[o]];if(null!=c._ROUTERPATH)continue;delete c.components,delete c.children,c.path=c.aliasPath||c.path,"*"!==c.path&&(c.component=c.component.render||c.component),c.meta={...c.meta||{},PATHKEY:c.aliasPath?"aliasPath":"path",pagePath:c.path.substring(1)};const a=Object(_proxy_proxy__WEBPACK_IMPORTED_MODULE_3__.a)(t,c);r.push(a)}}return r}},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"g",(function(){return _})),n.d(e,"a",(function(){return d}));var o=n(0),r=n(2),c=n(1),a=n(8);const u=function(t,e){for(let n=0;n<t.length;n+=1)t[n].call(this,e)},i=function(t,e=!0){if(e)return t.$vm;const{$mp:n}=t.$vm;return Object(a.c)(()=>{n.page.route=n.page.is}),Object(a.e)(()=>{n.page.route=n.page.is}),n},s=function(t={},e=!1){if(o.a.Router.CONFIG.encodeURI)if(e)try{t=JSON.parse(decodeURIComponent(t.query)||"{}")}catch(e){t=JSON.parse(t.query||"{}")}else try{t=JSON.parse(decodeURIComponent(t.query||encodeURIComponent("{}")))}catch(e){t=JSON.parse(t.query)}return t},l=function(t=-1,e){const n=getCurrentPages(e);return-1===t?n:-2===t?n[n.length-1]:-3===t?n[n.length-2]:n[t]},f=function(t,e=o.a.Router.CONFIG.routes){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const c=e[n[r]];if(c.path==="/"+t)return Object(o.f)(c);if(c.path===t)return Object(o.f)(c);if(c.name==t)return Object(o.f)(c)}Object(c.a)(`当前 '${t}' 在路由表中没有找到匹配的 name 或者 path`)},h=function(t){const e=Object(r.b)(t.route),{rule:n}=t;return e.query=n.query||n.params||{},e},p=function(t){const e=l(-2),{page:n,query:o}=i(e,!1),r=f(n.route,t);return r.query=s(o),r},_=function(t,e){if(null==t)return Object(c.a)("当前跳转规则为空,请检查跳转代码");let[n,o,a]=["path",null,{}];if(t.constructor===String)o=f(t,e);else{if(t.constructor!==Object)return Object(c.a)("传的什么乱七八糟的类型?路由跳转规则只认字符串 'path' , 对象 'path' , 对象 'name' ");o=f(t.path||(n="name",t.name),e),a=t.query||t.params||{}}return{rule:t,route:o,uniRoute:Object(r.h)(o.path,a)}},d=function(t,e){let[n,o]=[{},""];const r=t[t.length-1];if(t.length>0){const t=i(r,!1).query;n=s(t,!0),o=r.route}else null!=e&&(n=s(e.$mp.page.options,!0),o=r.route);const c=f(o);return c.query=n,c}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return c}));const o=[{path:"/preview-image",name:"previewImage",component:{render:()=>{}}},{path:"/choose-location",name:"chooseLocation",component:{render:()=>{}}},{path:"/open-location",name:"openLocation",component:{render:()=>{}}}],r={beforeHooks:[],afterHooks:[]},c=[]},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return u}));var o=n(9),r=n(5);var c=class extends Array{constructor(t,e,n){super(),this.Router=t,this.vueOldHooks=e,this.hookFun=n}push(t){this.vueOldHooks.splice(0,1,t),this[this.length]=(t,e,n)=>{this.hookFun(t,e,n,this.Router)}}};const a=function(t,e){const n=Object.create(null),r=Object.keys(e);for(let c=0;c<r.length;c+=1){const a=r[c];Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get(){const n=e[a];return"beforeEnter"==a&&void 0!==n?(e,r,c)=>{Object(o.b)(e,r,c,n,t)}:n},set(t){e[a]=t}})}return n},u=function(t,e,n){const o=r.c[e];return new c(t,o,n)}},function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return b})),n.d(e,"a",(function(){return O}));var o=n(0),r=n(4),c=n(10),a=n(2),u=n(1);const i=function(t,e){const{indexVue:n}=o.g,r=n[t];r.splice(r.length-1,1,e)},s=function(t){return new Promise(async e=>{const n=[],{appVue:c,onLaunch:a,onShow:u,waitHooks:s,variationFuns:l,indexCallHooks:f}=o.g,h=c.$options;if(await a.fun[a.fun.length-1].call(c,a.args),u.fun[u.fun.length-1].call(c,u.args),t)for(const t in s)f.includes(t)&&r.b.call(this,s[t].fun);a.isHijack&&h.onLaunch.splice(h.onLaunch.length-1,1,a.fun[0]),u.isHijack&&h.onShow.splice(h.onShow.length-1,1,u.fun[0]);for(const t in s){const e=s[t];e.isHijack&&(l.includes(t)?n.push({key:t,fun:e.fun[0]}):i(t,e.fun[0]))}e(n)})},l=function(){const{onLaunch:t,onShow:e}=this.$options;o.g.appVue=this,t.length>1&&(o.g.onLaunch.isHijack=!0,o.g.onLaunch.fun=t.splice(t.length-1,1,t=>{o.g.onLaunch.args=t})),e.length>0&&(o.g.onShow.isHijack=!0,o.g.onShow.fun=e.splice(e.length-1,1,t=>{o.g.onShow.args=t,o.g.pageReady&&r.b.call(this,o.g.onShow.fun,t)}))},f=function(t,e){return new Promise(async n=>{const o=this.lifeCycle.beforeHooks[0];if(null==o)return n();await o.call(this,e,t,n)})},h=function(t,e){const n=this.lifeCycle.afterHooks[0];null!=n&&n.constructor===Function&&n.call(this,e,t)},p=function(t,e,n){return new Promise(async o=>{const{beforeEnter:r}=t.route;if(null==r||r.constructor!==Function)return o();await r.call(this,n,e,o)})},_=function(t,e,n){return new Promise(async o=>{if(n)return Object(u.c)("beforeRouteLeave next到其他地方，无须再执行！"),o();if(t.path==e.path)return o();const c=Object(r.f)(-2),a=Object(r.e)(c),{beforeRouteLeave:i}=a.$options;return null==i?(Object(u.c)("当前页面下无 beforeRouteLeave 钩子声明，无须执行！"),o()):null!=i&&i.constructor!==Function?(Object(u.c)("beforeRouteLeave 生命钩子声明错误，必须是一个函数！"),o()):void await i.call(a,e,t,o)})},d=async function(t,e,n,o=!1){await this.lifeCycle.routerbeforeHooks[0].call(this);const c=Object(r.g)(t,this.CONFIG.routes),a=Object(r.c)(this.CONFIG.routes),i=Object(r.d)(c);try{const t=await _.call(this,a,i,o);await y.call(this,t,e,n,!0);const r=await f.call(this,a,i);await y.call(this,r,e,n);const u=await p.call(this,c,a,i);await y.call(this,u,e,n)}catch(t){return Object(u.c)(t),!1}n&&n.call(this,c,e),h.call(this,a,i),await this.lifeCycle.routerAfterHooks[0].call(this)},b=function(t,e){const n=Object(r.f)().reverse()[t];if(null==n)return Object(u.c)("亲爱的开发者，你确定页面栈中有这么多历史记录给你返回？");const{query:o,page:a}=Object(r.e)(n,!1);d.call(this,{path:a.route,query:o},"RouterBack",(t,n)=>{const o=t.uniRoute.url;if("/"+a.route==o||a.route==o)e();else{if("RouterBack"==n)return Object(u.c)("调用返回api被拦截到其他页面需要指定合理的 ‘NAVTYPE’ ");Object(c.a)(t,n)}})},g=function(t){const e=getCurrentPages()[0];if(null==e)return Object(u.c)("打扰了,当前一个页面也没有 这不是官方的bug是什么??");const{query:n,page:a}=Object(r.e)(e,!1);d.call(t,{path:a.route,query:n},"push",async(t,e)=>{let n=[];"/"+a.route==t.route.path||a.route==t.route.path?(o.g.pageReady=!0,await s.call(this,!0)):(n=await s.call(this,!1),await Object(c.a)(t,e)),o.g.pageReady=!0,function(t){for(let e=0;e<t.length;e+=1){const{key:n,fun:o}=t[e];i(n,o)}}(n)})},O=function(e){"mp-toutiao"==t.env.VUE_APP_PLATFORM&&(o.g.toutiaoIndexThis=this);const{needHooks:n,waitHooks:r}=o.g,c=this.$options;o.g.indexVue=c;for(let t=0;t<n.length;t+=1){const e=n[t];if(null!=c[e]){const{length:t}=c[e],n=r[e]={};n.fun=c[e].splice(t-1,1,a.g),n.isHijack=!0}}g.call(this,e)},y=function(t,e,n,r=!1){return new Promise((c,a)=>null==t?c():!1===t?(o.a.LockStatus=!1,a("路由终止")):t.constructor===String?(a("next到其他页面"),d.call(this,t,e,n,r)):t.constructor===Object?(a("next到其他页面"),d.call(this,t,t.NAVTYPE||e,n,r)):void 0)}}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return u}));const o=function(t){t()},r=function(t){t()},c=function(t){t()},a=function(t){t()},u=function(t){t()}},function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return b})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return O}));var o=n(1),r=n(3),c=n(2),a=n(5),u=n(0);let i=0,s=0,l=null,f=[];const h=new Promise(t=>l=t),p=function(){if(0==a.b.length)return Object(o.a)("检测到您未进行dom模型挂载操作，请调用api\r\n\r\n RouterMount(Vim: any, el: any): void");const{Vim:t,el:e}=a.b[0];let n=e;null==e&&(n="#app");try{t.$mount(n)}catch(t){Object(o.c)("挂载vue节点时错误啦"+t)}},_=function(t,e,n,o){const{CONFIG:a,selfRoutes:u}=o;if(a.h5.vueRouterDev)return n(e),e;if("object"==typeof e){const t=Reflect.get(e,"NAVTYPE");delete e.NAVTYPE,"push"==t?(e.replace=!1,e.type="navigateTo"):(e.replace=!0,e.type="reLaunch");const n=Reflect.get(e,"name");if(e.query=e.params||e.query,delete e.name,delete e.params,null==e.query&&(e.query={}),null!=n){const{aliasPath:t,path:o}=Object(r.h)(n,u);e.path=t||o}else{e.path=Reflect.get(e,"path");const t=Object(r.d)(e.path,u,a);if(null==t)return!1;e.path=t}if(a.encodeURI){const t=encodeURIComponent(JSON.stringify(e.query)),n=Object(c.d)(t);e.query={},""!=n&&(e.query.query=n)}}else null!=e&&e.constructor===String&&(e=Object(r.d)(e,u,a));let i=e;if(null!=e&&e.constructor!==Boolean){if(i=Object(r.i)(e),null!=i){null==Reflect.get(i,"type")&&(i.type="navigateTo")}}else!1===e&&o.lifeCycle.routerAfterHooks[0].call(o,{H5Intercept:!0});return n(i),e},d=function(t,e,n,o,c){return new Promise(async a=>{if(f.includes(t.path))return n(),a();if(f=[t.path],Reflect.get(c,"H5RouterReady")){const a=await new Promise(async n=>{const{toRoute:a,fromRoute:u}=Object(r.g)(t,e,c);await o(a,u,n)});_(0,a,n,c)}else n();a()})},b=async function(t,e,n,o){if(a.c.afterHooks[0](t,e),u.d.afterHooks[0]){0===s&&(await h,p());const{toRoute:n,fromRoute:c}=Object(r.g)(t,e,o);u.d.afterHooks[0](n,c)}else 0===s&&p();s+=1,o.lifeCycle.routerAfterHooks[0].call(o)},g=function(t,e,n,c){return new Promise(async s=>{await c.lifeCycle.routerbeforeHooks[0].call(c),await function(t,e,n,c){return new Promise(a=>{const{currentRoute:u}=c.$route;if(u.path==t.path)return a();const i=Object(r.f)();if(null==i||i._HHYANGbeforeRouteLeaveCalled)return Object(o.c)("当前环境下无须执行 beforeRouteLeave。 原因：1.page等于null  2.真的的无须执行"),a();const s=i.$options.beforeRouteLeave;if(null==s)return a();const{toRoute:l,fromRoute:f}=Object(r.g)(t,e,c);s[0].call(i,l,f,t=>{if(null==t)return a();i._HHYANGbeforeRouteLeaveCalled=!0,_(0,t,n,c)})})}(t,e,n,c);const f=c.CONFIG.h5;a.c.beforeHooks[0](t,e,async a=>{if(null!=a&&!0===f.keepUniIntercept&&!1===f.vueRouterDev)return n(a),Object(o.c)("uni-app 内部强制触发跳转拦截"),i+=1,s();if(!u.d.beforeHooks[0])return n(),i+=1,l(),s();const h=await new Promise(async n=>{const{toRoute:o,fromRoute:a}=Object(r.g)(t,e,c);await u.d.beforeHooks[0](o,a,n)}),p=_(0,h,n,c);if(0==i&&null==p&&t.meta.isTabBar){const{selfRoutes:o}=c,r=Reflect.get(o["/"+t.meta.pagePath],"beforeEnter");r&&await d(t,e,n,r,c)}i+=1,l(),s()})})},O=function(t,e,n){let o=[];o=n?Object(r.j)(t.CONFIG.routes,t):Object(r.b)(t,e,t.CONFIG.h5.useUniConfig);const c=new e.constructor({base:e.options.base,mode:e.options.mode,routes:o});e.matcher=c.matcher,u.a.vueRouter=e,u.a.RouterReadyPromise(),t.H5RouterReady=!0,setTimeout(()=>{!function(t,e){const{CONFIG:n}=t,o=e.currentRoute;if("hash"===e.mode){const{query:t,path:c}=o,a=Object(r.c)(n,t,"hash");e.replace(`${c}${a}`)}else{const{toRoute:c}=Object(r.g)(o,o,t);let a=c.query;n.encodeURI&&(a=Object(r.c)(n,{query:JSON.stringify(c.query)},"history")),e.replace({path:c.aliasPath||c.path||o.path,query:a,type:"redirectTo"})}}(t,e)})}},function(t,e,n){"use strict";var o=n(0),r=n(2);e.a=function(t,e){return new Promise(n=>{const c=Object(r.d)("?"+t.uniRoute.query),{url:a}=t.uniRoute;uni[o.e[e]]({url:a+c,complete:()=>{n(a),o.a.LockStatus=!1}})})}},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return a}));var o=n(2),r=n(0);const c=function(t){let e={};if(t.query=t.query||{},r.a.Router.CONFIG.encodeURI){if(null==t.ONLAUNCH)try{e=JSON.parse(decodeURIComponent(t.query.query||encodeURIComponent("{}")))}catch(n){e=JSON.parse(t.query.query)}}else e=t.query;let n="",c="path";switch(Object(o.a)()){case"H5":n=t.page&&(c="aliasPath",t.page.$page.path||"/"+t.page.route);break;case"BAIDU":n="/"+t.page.pageinstance.route||"";break;default:n="/"+t.page.route||""}const a={};return a[c]=n,{route:a,ruleKey:c,query:e}},a=function(t){t.$mount()}},function(t,e){var n,o,r=t.exports={};function c(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===c||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:c}catch(t){n=c}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var i,s=[],l=!1,f=-1;function h(){l&&i&&(l=!1,i.length?s=i.concat(s):f=-1,s.length&&p())}function p(){if(!l){var t=u(h);l=!0;for(var e=s.length;e;){for(i=s,s=[];++f<e;)i&&i[f].run();f=-1,e=s.length}i=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function d(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new _(t,e)),1!==s.length||l||u(p)},_.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=d,r.addListener=d,r.once=d,r.off=d,r.removeListener=d,r.removeAllListeners=d,r.emit=d,r.prependListener=d,r.prependOnceListener=d,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e),n.d(e,"RouterMount",(function(){return bt}));var o=n(2),r=n(0),c=n(1);const a=function(t=[],e){for(let n=0;n<t.length;n+=1)t[n].call(this,e)},u=function(t=-1,e){const n=getCurrentPages(e);return-1===t?n:-2===t?n[n.length-1]:-3===t?n[n.length-2]:n[t]},i=function(t,e=!0){return e?t.$vm:t.$vm.$mp?t.$vm.$mp:function(t){return{s:!0,z:!1}[t.constructor.name]}(t)?{page:t,query:t.__displayReporter.query}:void 0},s=function(t,e=r.a.Router.CONFIG.routes){const n=Object.keys(e);for(let o=0;o<n.length;o+=1){const c=e[n[o]];if(c.path==="/"+t)return Object(r.f)(c);if(c.path===t)return Object(r.f)(c);if(c.name==t)return Object(r.f)(c)}Object(c.a)(`当前 '${t}' 在路由表中没有找到匹配的 name 或者 path`)},l=function(t={}){if(r.a.Router.CONFIG.encodeURI)try{t=JSON.parse(decodeURIComponent(t.query||encodeURIComponent("{}")))}catch(e){t=JSON.parse(t.query)}return t},f=function(t,e){let[n,o]=[{},""];const r=t[t.length-1];t.length>0?(n=l(r.options),o=r.route):null!=e&&(n=l(e.$mp.page.options),o=r.route);const c=s(o);return c.query=n,c},h=function(t){return new Promise(async e=>{const n=u(-2),{onBeforeBack:o}=n.$vm.$options;if(null!=o&&o.constructor===Function){if(!0===await o.call(n.$vm,t))return e(!1)}return e(!0)})},p=function(t){const e=t.$getAppWebview().getStyle();if(null!=e.titleNView&&e.titleNView.autoBackButton)return!0;const{$page:n}=t;return!(!n||!1!==n.meta.isQuit)};let _=null;const d=function(t,e){const{$holdTab:n,Router:o}=r.a;if(!1===o.CONFIG.APP.holdTabbar)return!1;let c=[];if(!__uniConfig.tabBar||!__uniConfig.tabBar.list)return!1;c=__uniConfig.tabBar.list;for(let t=0;t<c.length;t+=1){const{pagePath:o}=c[t];if(o==e+".html"||"/"+o==e+".html")return n.showHoldTab()}return!0===n.isVisible?n.hideHoldTab():void 0},b=function(t,e){const n=new Promise(n=>{const c=Object(o.d)("?"+t.uniRoute.query),{APP:a}=r.c,{url:u}=t.uniRoute;_=setTimeout(()=>{n(u),n=o.g,r.a.LockStatus=!1},a.switchPageOutTime),uni[r.e[e]]({url:u+c,...t.route.animation,complete:()=>{clearTimeout(_),n(u),n=o.g,r.a.LockStatus=!1}})});return n.then(t=>{d(0,t)}),n};let g=!1;const O=function(t){return new Promise(async e=>{const n=[],{appVue:o,indexVue:c,onLaunch:u,onShow:i,waitHooks:s,variationFuns:l,indexCallHooks:f}=r.g,h=o.$options;if(await u.fun[u.fun.length-1].call(o,u.args),i.fun[i.fun.length-1].call(o,i.args),t)for(const t in s)f.includes(t)&&a.call(this,s[t].fun);u.isHijack&&h.onLaunch.splice(h.onLaunch.length-1,1,u.fun[0]),i.isHijack&&h.onShow.splice(h.onShow.length-1,1,i.fun[0]);for(const t in s){const e=s[t];if(e.isHijack)if(l.includes(t))n.push({key:t,fun:e.fun[0]});else{const n=c[t];setTimeout(()=>{n.splice(n.length-1,1,e.fun[0])},50)}}e(n)})},y=function(){const{onLaunch:t,onShow:e}=this.$options;r.g.appVue=this,t.length>1&&(r.g.onLaunch.isHijack=!0,r.g.onLaunch.fun=t.splice(t.length-1,1,t=>{r.g.onLaunch.args=t})),e.length>0&&(r.g.onShow.isHijack=!0,r.g.onShow.fun=e.splice(e.length-1,1,t=>{r.g.onShow.args=t,r.g.pageReady&&a.call(this,r.g.onShow.fun,t)}))},m=function(t){const{needHooks:e,waitHooks:n}=r.g,c=this.$options;r.g.indexVue=c;for(let t=0;t<e.length;t+=1){const r=e[t];if(null!=c[r]){const{length:t}=c[r],e=n[r]={};e.fun=c[r].splice(t-1,1,o.g),e.isHijack=!0}}C.call(this,t)},P=function(t,e){return new Promise(async n=>{const o=this.lifeCycle.beforeHooks[0];if(null==o)return n();await o.call(this,e,t,n)})},R=function(t,e){const n=this.lifeCycle.afterHooks[0];null!=n&&n.constructor===Function&&n.call(this,e,t)},j=function(t,e,n){return new Promise(async o=>{const{beforeEnter:r}=t.route;if(null==r||r.constructor!==Function)return o();await r.call(this,n,e,o)})},w=function(t,e,n=1){const r=f([t]);H.call(this,{path:r.path,query:r.query},"RouterBack",(t,a)=>"RouterBack"!=a?b(t,a):g?Object(c.c)("当前处于正在返回的状态，请稍后再试！"):(g=!0,e.onBackPress=[o.g],void setTimeout(()=>{this.back(n,void 0,!0),g=!1,d(0,r.path)})))},k=async function(t,e){if(!1===await h(e))return r.a.LockStatus=!1,!1;const n=u(-3);w.call(this,n,t)},v=async function(t,e){await h(e);const{backLayerC:n}=r.a,o=u();let c=null;c=n>o.length-1||n==o.length-1?o[0]:o[o.length-2],w.call(this,c,t,n)},T=function(t,e,n){return new Promise(o=>{if(n)return Object(c.c)("beforeRouteLeave next到其他地方，无须再执行！"),o();if(t.path==e.path)return o();const r=u(-2),a=i(r),{beforeRouteLeave:s}=a.$options;return null==s?(Object(c.c)("当前页面下无 beforeRouteLeave 钩子声明，无须执行！"),o()):null!=s&&s.constructor!==Function?(Object(c.c)("beforeRouteLeave 生命钩子声明错误，必须是一个函数！"),o()):void s.call(a,e,t,o)})},E=function(t,e,n,o=!1){return new Promise((c,a)=>null==t?c():!1===t?(r.a.LockStatus=!1,a("路由终止")):t.constructor===String?(a("next到其他页面"),H.call(this,t,e,n,o)):t.constructor===Object?(a("next到其他页面"),H.call(this,t,t.NAVTYPE||e,n,o)):void 0)},H=async function(t,e,n,a=!1){await this.lifeCycle.routerbeforeHooks[0].call(this);const f=function(t,e){if(null==t)return Object(c.a)("当前跳转规则为空,请检查跳转代码");let[n,a,u,i]=["path",null,{},{}];if(t.constructor===String)a=s(t,e);else{if(t.constructor!==Object)return Object(c.a)("传的什么乱七八糟的类型?路由跳转规则只认字符串 'path' , 对象 'path' , 对象 'name' ");a=s(t.path||(n="name",t.name),e),u=t.query||t.params||{},i=t.animation||{}}return i={...r.a.Router.CONFIG.APP.animation,...a.animation||{},...i},a.animation=i,{rule:t,route:a,uniRoute:Object(o.h)(a.path,u)}}(t,this.CONFIG.routes),h=function(t){const e=u(-2),{page:n,query:o}=i(e,!1),r=s(n.route,t);return r.query=l(o),r}(this.CONFIG.routes),p=function(t){const e=Object(o.b)(t.route),{rule:n}=t;return e.query=n.query||n.params||{},e}(f);try{const t=await T.call(this,h,p,a);await E.call(this,t,e,n,!0);const o=await P.call(this,h,p);await E.call(this,o,e,n);const r=await j.call(this,f,h,p);await E.call(this,r,e,n)}catch(t){return Object(c.c)(t),!1}n&&n.call(this,f,e),R.call(this,h,p),await this.lifeCycle.routerAfterHooks[0].call(this)},C=function(t){const e=getCurrentPages()[0];if(null==e)return Object(c.c)("打扰了,当前一个页面也没有 这不是官方的bug是什么??");const{query:n,page:o}=i(e,!1);H.call(t,{path:o.route,query:n},"push",async(t,e)=>{let n=[];"/"+o.route==t.route.path?(d(0,o.route),r.g.pageReady=!0,await O.call(this,!0)):(n=await O.call(this,!1),await b(t,e)),plus.nativeObj.View.getViewById("router-loadding").close(),function(t){for(let e=0;e<t.length;e+=1){const{key:n,fun:o}=t[e],c=r.g.indexVue[n];c.splice(c.length-1,1,o)}}(n),r.g.pageReady=!0})},L=function(t){H.call(this,{path:"/"+t,query:{}},"pushTab",(t,e)=>{b(t,e)})};var A=n(7),S=n(10),I=n(3);var x=function(t,e,n){if(null==this.$route)return Object(c.a)("h5端路由为就绪，请检查调用代码");e=Object(I.d)(e,this.selfRoutes,this.CONFIG);const o=Object(I.i)(e);o.type=n,this.$route[t](o)},q=n(8);const N=function({backLayer:t,delta:e,H5PATCH:n}){q.b(()=>{n.on("historyBack",{backLayer:t,delta:e})}),q.a(()=>{r.a.backLayerC=t,uni.navigateBack({delta:t,complete:()=>{r.a.LockStatus=!1}})}),q.d(()=>{A.c.call(this,t,()=>{uni.navigateBack({delta:t})})})},$=function(t,e){switch(Object(o.a)(!0)){case"H5":return x.call(this,r.b[e],t,r.e[e]);case"APP":return r.a.LockStatus=!0,H.call(this,t,e,b);case"APPLETS":return r.a.LockStatus=!0,A.b.call(this,t,e,S.a);default:Object(c.a)("糟糕！！！还有其他的执行环境？？？没听说过啊。一脸懵逼？？？加QQ群问问：769241495")}};var D=function(t,e,n=!1,o=!1){return r.a.LockStatus&&!o?Object(c.c)("当前页面正在处于跳转状态，请稍后再进行跳转...."):n?N.call(this,t,e):$.call(this,t,e)},M=n(4);const U=function({tag:t,attrs:e,children:n}={}){const o=document.createElement(t);for(const[t,n]of Object.entries(e))o.setAttribute(t,n);for(const t of n)o.appendChild("string"==typeof(r=t)?document.createTextNode(r):r instanceof HTMLElement?r:U(r));var r;return o},B=U({tag:"div",attrs:{id:"router-loadding"},children:[U({tag:"div",attrs:{class:"loadding"},children:[]})]}),F={style:U({tag:"style",attrs:{id:"HHYANG_style"},children:["\n\t\tbody{padding:0;margin:0}#router-loadding{position:fixed;width:100%;height:3px;transition:all .05s;top:0;z-index:9999999999999999;}#router-loadding .loadding{position:fixed;top:0;height:3px;background-color:#47b14b;width:0;box-shadow:0 0 15px #4CAF50;transition:all .8s;border-top-right-radius:3px;border-bottom-right-radius:3px}\n\t\t"]}),html:B,script:U({tag:"script",attrs:{id:"HHYANG_script"},children:['\n\t\tvar HHYANG_El=document.querySelector("#router-loadding .loadding"),HHYANG_Pel=document.querySelector("#router-loadding"),w=0,stop=null,WH=window.innerWidth,loop=function(){w=w>=WH-35?w+parseInt(5*Math.random()):w+parseInt(35*Math.random());HHYANG_El.style.cssText="width:"+w+"px";w>=WH&&clearInterval(stop)};window.startLodding=function(a){a=void 0===a?500:a;HHYANG_Pel.style.cssText="display: block;";HHYANG_El.style.cssText="transition: all 0.8s;";w=0;clearInterval(stop);stop=setInterval(function(){loop()},a)};window.stopLodding=function(a){a=void 0===a?200:a;clearInterval(stop);HHYANG_El.style.cssText="width:"+WH+"px;transition: all "+a/1E3+"s;";HHYANG_Pel.style.cssText="opacity: 0;transition: all "+a/1E3+"s;";setTimeout(function(){HHYANG_Pel.style.cssText="display: none;";HHYANG_El.style.cssText="width:0px";w=0},a)};\n\t\t']})};var G=n(9),K=n(6);var W=function(t,e){const n=t.CONFIG.h5;e.afterHooks=Object(K.b)(t,"afterHooks",G.a),e.beforeHooks=Object(K.b)(t,"beforeHooks",G.c);const o=Object(I.e)(e.options.routes,!1,{}),r=Object(I.e)(t.CONFIG.routes,!0,n);t.vueRoutes=o,t.selfRoutes={...t.selfRoutes||{},...r},t.$route=e,function(t){if(!1===t.CONFIG.h5.rewriteFun)return!1;uni.reLaunch=function({url:e}){if("/"===e)return Object(c.c)("H5端 uni.reLaunch('/')时 默认被重写了! 你可以使用 this.$Router.replaceAll() 或者 uni.reLaunch('/'?xxx)"),history.length>1?t.back():t.replaceAll("/");const n=e.match(/^[^?]+|(\/)/)[0];try{const o={};e.replace(/([^?&]+)=([^?&]+)/g,(t,e,n)=>(o[e]=decodeURIComponent(n),`${n}=${e}`)),t.replaceAll({path:n,query:o})}catch(t){Object(c.a)(e+"解析失败了....  试试 this.$Router.replaceAll() 吧")}},uni.navigateBack=function(e){let n=e;e.constructor===Object&&(n=1),t.back(n,e)}}(t),Object(G.d)(t,e,n.vueRouterDev)};var V=class{constructor(t){this.H5=t,this.isLoading=!0,this.loadingCount=0}on(t,e,n){if(this.H5)return this[t](e);n&&n()}registerHook(t,e,n){W(t,e,n)}historyBack({backLayer:t,delta:e={from:"navigateBack"}}={}){const n=getCurrentPages(),o=n[n.length-1],{onBackPress:r}=o.$options;if(null!=r&&r.constructor===Array){if(r[r.length-1].call(o,e))return!0}history.go(-t)}appendHTML({style:t,html:e,script:n}){window.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector("body");o.appendChild(t),o.appendChild(e),o.appendChild(n),this.toogle("startLodding",!0)})}toogle(t,e=!1){if(e&&0!==this.loadingCount)return this.loadingCount+=1,!1;try{this.loadingCount+=1,this.isLoading&&window[t]()}catch(t){Object(c.c)("你使用了 addRoutes API 提前进行了生命周期 并触发了startLodding")}}async setLoadingStatus({loading:t,replaceStyle:e,resetStyle:n}){if(this.isLoading=t,t){const t=n(),o=Object.keys(t);for(let n=0;n<o.length;n+=1){const r=o[n];let c=t[r];"style"!==r||e||(c=F[r].innerHTML+c),F[r].innerHTML=c}this.appendHTML(F)}}};const Y=new V(Object(o.e)()),J=function(t,e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},Q=function(){J(this.lifeCycle.routerbeforeHooks,(function(){return new Promise(async t=>(this.CONFIG.routerBeforeEach(),"H5"===Object(o.a)(!0)&&Y.on("toogle","startLodding"),t(!0)))})),J(this.lifeCycle.routerAfterHooks,(function(t={}){return!0!==t.H5Intercept&&this.CONFIG.routerAfterEach(),"H5"===Object(o.a)(!0)&&Y.on("toogle","stopLodding"),!0}))};var z=n(5),X=n(11);var Z=function(t){t.$mount()};const tt={dbClick:"doubleclick",click:"click",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend"},et={registerPageHook:!1,id:"HoldTabbar",style:{width:"100%",height:"50px",opacity:0,bottom:"0"},event:{},beforeMount:()=>{},mounted:()=>{}},nt=function(t){const e=getCurrentPages();if(null==t)return e[0];for(let n=0;n<e.length;n++){const o=e[n];if(o.route===t)return o}return!1},ot=function(t,{pageX:e},n,o,r){const{length:c}=n,a=(plus.screen.resolutionWidth/c).toFixed(4),u=Math.ceil(e.toFixed(4)/a)-1,i=n[u],{route:s}=nt();s!=i.pagePath?o(u,i,()=>{rt(t,r,i)}):(o(u,i,()=>{}),rt(t,r,i))},rt=function(t,e,n){if(e){const e=nt(n.pagePath);if(e){const o=e.$vm.$options.onTabEvent;o&&o.call(e.$vm,t,n)}}},ct=function({id:t,style:e,beforeMount:n,mounted:o,event:r,registerPageHook:c}={},a){const u=new plus.nativeObj.View(t,e);if(!n(u,a))return function(t,e,n,o){for(let r in t){const c=t[r],a=tt[r];e.addEventListener(a,t=>{ot(a,t,n,c,o)})}}(r,u,a,c),o(u,a),u.show(),u};var at=class{constructor(t={}){const e=function(){if(__uniConfig.tabBar&&__uniConfig.tabBar.list&&__uniConfig.tabBar.list.length>0){const t=JSON.parse(JSON.stringify(__uniConfig.tabBar.list));for(let e=0;e<t.length;e++)t[e].pagePath=t[e].pagePath.replace(/\.html$/,"");return t}return console.error("当前没有uni-app自带的原生tabbar 无须进行拦截  告辞!!"),!1}();if(!e)return!1;t=function(t){const e={};for(let n in et){const o=et[n];null==t[n]?e[n]=o:t[n].constructor===Object?e[n]={...o,...t[n]}:e[n]=t[n]}return e}(t),this.tabbarView=function(t,e){return ct(t,e)}(t,e)}get getTabbarView(){return this.tabbarView}get isVisible(){return this.tabbarView.isVisible()}hideHoldTab(){this.tabbarView.hide()}showHoldTab(){this.tabbarView.show()}};const ut=function(t){const{holdTabbarStyle:e}=t.CONFIG.APP,n=new at({style:e.call(t),event:{click:(e,{pagePath:n})=>{L.call(t,n)}}});r.a.$holdTab=n},it=function(t,e,n){const o=u(-2),{complete:c}=t;t.complete=c?function(t){e&&e("pageShow",o.route),c.call(o.$vm,t)}:function(){e&&e("pageShow",o.route)},r.a.$holdTab.isVisible&&r.a.$holdTab.hideHoldTab(),n&&n(t)},st=function(t,e,n){if("navigateBack"==n[0].from)return r.a.LockStatus?(Object(c.c)("当前页面正在处于跳转状态，请稍后再进行跳转...."),!0):(r.a.LockStatus=!0,v.call(this,e,n),!0);return!!p(t)&&(r.a.LockStatus?(Object(c.c)("当前页面正在处于跳转状态，请稍后再进行跳转...."),!0):(r.a.LockStatus=!0,k.call(this,e,n),!0))},lt=function(t){y.call(this);const{holdTabbar:e,rewriteFun:n}=t.CONFIG.APP;e&&(!function(t){if(!1===t)return!1;const e=uni.chooseLocation,n=uni.openLocation;uni.chooseLocation=function(t){it(t,d,e)},uni.openLocation=function(t){it(t,()=>{const t=plus.webview.all();t[t.length-1].addEventListener("close",()=>{const t=u(-2);d(0,t.route)},!1)},n)}}(n),ut(t)),function(t){const{loddingPageHook:e,loddingPageStyle:n}=t.CONFIG.APP,o=new plus.nativeObj.View("router-loadding",{top:"0px",left:"0px",height:"100%",width:"100%",...n.call(t)});e.call(t,o),o.show()}(t)};var ft=function(){A.d.call(this)};const ht=function(t){return{H5:{beforeCreate(){this.$options.router&&W(t.$root,this.$options.router,this)}},APP:{onLaunch(){r.g.onLaunched=!0,lt.call(this,t.$root)},onLoad(){var e,n;r.g.onLaunched&&!r.g.pageReady&&(r.g.onLaunched=!1,m.call(this,t.$root)),e=this.$mp.page,n=this.$options,p(e)&&(n.onBackPress=[n.onBackPress[0]])},onBackPress(...e){return st.call(t.$root,this.$mp.page,this.$options,e)}},APPLETS:{onLaunch(){r.g.onLaunched=!0,ft.call(this,t.$root)},onLoad(){r.g.onLaunched&&!r.g.pageReady&&(r.g.onLaunched=!1,A.a.call(this,t.$root))}}}};var pt=function(t,e){t.mixin({...ht(e)[Object(o.a)(!0)]})};let _t=null;_t=new V(Object(o.e)()),r.a.H5RouterReady=new Promise(t=>r.a.RouterReadyPromise=t);class dt{constructor(t){dt.$root=this,r.a.Router=this,this.CONFIG=Object(o.c)(t),this.lifeCycle=r.d,Q.call(this),"H5"===Object(o.a)()&&_t.setLoadingStatus(this.CONFIG.h5)}get $Route(){return this.getPageRoute()}get $lockStatus(){return r.a.LockStatus}set $lockStatus(t){Object(c.c)("你确定要这么做？你知道后果？",!0),r.a.LockStatus=t}get $holdTab(){return r.a.$holdTab}push(t){D.call(this,t,"push")}replace(t){D.call(this,t,"replace")}replaceAll(t){D.call(this,t,"replaceAll")}pushTab(t){D.call(this,t,"pushTab")}back(t=1,e,n=!1){if(t.constructor!=Number)return Object(c.a)("返回层级参数必须是一个Number类型且必须大于1："+t);D.call(this,{backLayer:t,delta:e,H5PATCH:_t},"back",!0,n)}getPageRoute(t){const e=getCurrentPages();switch(Object(o.a)(!0)){case"H5":return I.a.call(this,e,t);case"APP":return f(e,t);case"APPLETS":return Object(M.a)(e,t)}}beforeEach(t){return J(this.lifeCycle.beforeHooks,t)}afterEach(t){return J(this.lifeCycle.afterHooks,t)}}dt.install=function(t){pt(t,dt),Object.defineProperty(t.prototype,"$Router",{get:()=>dt.$root}),Object.defineProperty(t.prototype,"$Route",{get(){return dt.$root.getPageRoute(this)}})};e.default=dt;const bt=function(t,e){switch(Object(o.a)(!0)){case"APP":Z(t,e);break;case"APPLETS":Object(X.a)(t,e);break;case"H5":z.b.push({Vim:t,el:e});break;default:Object(c.c)("糟糕！！！还有其他的执行环境？？？没听说过啊。一脸懵逼？？？加QQ群问问：769241495")}}}]);