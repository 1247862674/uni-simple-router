!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=16)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return s}));const r={h5:{rewriteFun:!0,paramsToQuery:!1,loading:!0,hinderTab:!1,vueRouterDev:!1,useUniConfig:!0,keepUniIntercept:!1,vueNext:!1,replaceStyle:!1,resetStyle:()=>JSON.parse("{}"),mode:"hash",base:"/",linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",scrollBehavior:(e,t,n)=>n,fallback:!0},APP:{holdTabbar:!0,loddingPageStyle:()=>JSON.parse('{"backgroundColor":"#FFF"}'),loddingPageHook:e=>{plus.navigator.closeSplashscreen(),e.show()},animation:{animationType:"pop-in",animationDuration:300},switchPageOutTime:1e3},debugger:!1,encodeURI:!0,routerBeforeEach:()=>{},routerAfterEach:()=>{},routes:[]},o={push:"navigateTo",replace:"redirectTo",replaceAll:"reLaunch",pushTab:"switchTab",back:"navigateBack"},c={push:"push",replace:"replace",replaceAll:"replace",pushTab:"replace"},a={beforeHooks:[],afterHooks:[],routerHooks:[],routerbeforeHooks:[],routerAfterHooks:[]},u={$parseQuery:null,Router:{},vueRouter:{},addedRoutes:[],RouterReadyPromise:()=>{},H5RouterReady:null,backLayerC:1,LockStatus:!1},i={indexVue:{},toutiaoIndexThis:{},appVue:{},onLaunch:{fun:[],args:{},isHijack:!1},onShow:{fun:[],args:{},isHijack:!1},variationFuns:["onReady","onUnload"],waitHooks:{},indexCallHooks:["onLoad","onReady","created","onShow"],needHooks:["onLoad","onReady","onShow","created","onHide","onUnload","onResize"],pageReady:!1,onLaunched:!1},s=function(e={}){return{...e,params:{},query:{}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(0);const o=function(e,t,n){if(!n){const t=r.a.Router.CONFIG.debugger,n="[object Object]"===t.toString();if(!1===t)return!1;if(!1===t)return!1;if(n&&!1===t[e])return!1}console[e](t)},c=function(e,t=!1){o("error",e,t)},a=function(e,t=!1){o("warn",e,t)},u=function(e,t=!1){o("log",e,t)}},function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return _}));var r=n(0),o=n(5),c=n(1);const a=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},u=function(e){return"[object Object]"===e.toString()&&e.constructor===Object},i=function(e=!1){let t="";return t="APPNVUE",t="APP",t="H5",t="ALIPAY",t="BAIDU",t="QQ",t="WEIXIN",t="TOUTIAO",e&&(t="APPLETS"),t},s=function(...e){!0===e[e.length-1]&&Object(c.b)(e)},l=function(e){if(!e.routes||e.routes.constructor!==Array)return Object(c.a)("路由参数 'routes' 必须传递 \r\n\r\n"+JSON.stringify(e));if(null!=e.h5&&e.h5.constructor!==Object)return Object(c.a)("h5参数传递错误，应该是一个 'Object' 类型 示例：\r\n\r\n"+JSON.stringify(r.c.h5));const t=Object.create(null),n=Object.keys(r.c);for(let c=0;c<n.length;c+=1){const a=n[c];null!=e[a]?e[a].constructor===Object?t[a]={...r.c[a],...e[a]}:t[a]="routes"==a?[...r.c[a],...e[a],...o.a]:e[a]:t[a]=r.c[a]}return t},f=function(e,t,n){if(n){const n={},r=/([^=&\s]+)[=\s]*([^&\s]*)/g;for(;r.exec(t);)n[RegExp.$1]=RegExp.$2;return{url:e,query:n}}const r=[],o=Object.keys(t);for(let a=0;a<o.length;a+=1){const u=o[a];let i="";t[u].constructor==Object?(i=f(e,t[u],n).query,r.push(i)):(c=t[u],i=c=(c=(c=(c=(c=(c=(c=(c=(c+="").replace(/%/g,"%25")).replace(/\+/g,"%2B")).replace(/ /g,"%20")).replace(/\//g,"%2F")).replace(/\?/g,"%3F")).replace(/&/g,"%26")).replace(/=/g,"%3D")).replace(/#/g,"%23"),r.push(`${u}=${i}`))}var c;return{url:e,query:r.join("&")}},h=function(e,t,n=!1){return r.a.Router.CONFIG.encodeURI?function(e,t,n){return n?{url:e,query:JSON.parse(decodeURIComponent(t.replace(/^query=/,"")))}:{url:e,query:"query="+encodeURIComponent(JSON.stringify(t))}}(e,t,n):f(e,t,n)},p=function(e,t,n={},o="path"){return{...Object(r.f)(function(e,t,n,r=!1){const o={};let u=0;for(;;){const i=t[u];if(null==i)return r||Object(c.a)(`路由表中未查找到 '${n}' 为 '${e[n]}'`),{path:"",name:""};if(null!=i[n]&&i[n]===e[n])return r?i:(o.url=i.path,o.rule=i,a()&&(o.url=i.aliasPath||i.path),o);u+=1}}({...t},e.CONFIG.routes,o,e)),query:n}},d=function(e){switch(e.trim()){case"query=%7B%7D":case"%7B%7D":case"?query=%7B%7D":case"?":case"?[object Object]":case"?query={}":e="";break;default:Object(c.c)("url已经很完美啦，不需要格式化！")}return e},_=function(e){return JSON.parse(JSON.stringify(e))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return fromatRoutes})),__webpack_require__.d(__webpack_exports__,"h",(function(){return nameToRute})),__webpack_require__.d(__webpack_exports__,"d",(function(){return formatUserRule})),__webpack_require__.d(__webpack_exports__,"g",(function(){return getRouterNextInfo})),__webpack_require__.d(__webpack_exports__,"j",(function(){return vueDevRouteProxy})),__webpack_require__.d(__webpack_exports__,"c",(function(){return encodeURLQuery})),__webpack_require__.d(__webpack_exports__,"i",(function(){return strPathToObjPath})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getPages})),__webpack_require__.d(__webpack_exports__,"a",(function(){return H5GetPageRoute})),__webpack_require__.d(__webpack_exports__,"b",(function(){return diffRouter}));var _helpers_warn__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_helpers_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_proxy_proxy__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_helpers_config__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0);const pagesConfigReg=/props:\s*\(.*\)\s*(\([\s\S]*\))\s*},/,pagesConfigRegCli=/props:\s*Object\.assign\s*(\([\s\S]*\))\s*},/,defRoutersReg=/props:\s*{([\s\S]+)}\s*},/,resolveRender=function({component:e,components:t},n,r){return null!=t&&Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.c)("vueRouterDev:false时 路由表配置中 ‘components’ 无效，\r\n\r\n "+JSON.stringify(n)),1!=r&&("*"==n.path||(null==e?Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)("vueRouterDev:false时 路由表中 ‘component’ 选项不能为空：\r\n\r\n "+JSON.stringify(n)):void(e.constructor===Function?n.component={render:e}:e.constructor===Object?null!=e.render&&e.render.constructor===Function||Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)("vueRouterDev:false时 路由表配置中 ‘render’ 函数缺失或类型不正确：\r\n\r\n "+JSON.stringify(n)):Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)("vueRouterDev:false时 路由表配置中 ‘component’ 选项仅支持 Function、Object 类型。并确保 Object 类型时传递了 ‘render’ 函数  ：\r\n\r\n "+JSON.stringify(n)))))},resloveChildrenPath=function(e,t,n){for(let r=0;r<t.length;r+=1){const o=t[r];resolveRender(o,o,n),null!=o.path?e[o.path]={...o,_ROUTERPATH:!0}:e[o.aliasPath]={...o,_ROUTERPATH:!1},o.children&&o.children.constructor===Array&&resloveChildrenPath(e,o.children,n)}},fromatRoutes=function(e,t,{vueRouterDev:n,useUniConfig:r}){if(t&&n)return e;const o={};for(let n=0;n<e.length;n+=1){const c=e[n],a="/"===c.path?c.alias:c.path;t&&(c.children&&c.children.constructor===Array&&resloveChildrenPath(o,c.children,r),resolveRender(c,c,r)),o[a]={...c,_PAGEPATH:a.substring(1)}}return o},getFuntionConfig=function(FunStr){let matchText=FunStr.match(pagesConfigReg),prefix="";if(null==matchText)if(matchText=FunStr.match(pagesConfigRegCli),null==matchText)try{matchText=FunStr.match(defRoutersReg)[1],matchText=eval(`Object.assign({${matchText}})`),prefix="system-"}catch(e){Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)("读取uni-app页面构建方法配置错误 \r\n\r\n "+e)}else matchText=eval("Object.assign"+matchText[1]);else matchText=eval("Object.assign"+matchText[1]);return{config:matchText,prefix:prefix,FunStr:FunStr}},pathToRute=function(e,t){let n="",r={};const o=Object.keys(t);for(let c=0;c<o.length;c+=1){const a=t[o[c]];if(r=a,a.aliasPath==e){n="aliasPath";break}if("/"+a._PAGEPATH==e){n="path";break}}return{PATHKEY:{[n]:e},rute:r}},nameToRute=function(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=t[n[r]];if(o.name==e)return o}Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)(`路由表中没有找到 name为:'${e}' 的路由`)},formatUserRule=function(e,t,n){let r="";const o=(r="query",e.query||(r="params",e.params)||(r="",{}));let c={};if(""==r&&null!=e.name&&(r="params"),"params"!=r){const n=pathToRute(e.path||e,t);if(""==Object.keys(n.PATHKEY)[0])return Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)(`'${n.PATHKEY[""]}' 路径在路由表中未找到`),null;c=n.rute,e.path&&(e.path=c.path)}if(""!=r){if("params"==r&&n.h5.paramsToQuery){const{aliasPath:n,path:o}=nameToRute(e.name,t);delete e.name,delete e.params,e.path=n||o,r="query"}const c=_helpers_config__WEBPACK_IMPORTED_MODULE_3__.a.$parseQuery.transfer(o);n.encodeURI?""!=c&&(e[r]={query:c.replace(/^query=/,"")}):e[r]=o}else e=c.path;return e},getRouterNextInfo=function(e,t,n){let[r,o]=[e,t];const c=n.CONFIG.h5;if(!1===c.vueNext&&!1===c.vueRouterDev){let[c,a]=[{},{}];c[e.meta.PATHKEY]="path"===e.meta.PATHKEY?"/"+e.meta.pagePath:""+e.path,a[t.meta.PATHKEY]="path"===t.meta.PATHKEY?"/"+t.meta.pagePath:""+t.path,null==e.meta.PATHKEY&&(c=pathToRute(e.path,n.selfRoutes).PATHKEY),null==t.meta.PATHKEY&&(a=pathToRute(t.path,n.selfRoutes).PATHKEY);const u=0!=Object.keys(e.query).length?Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(e.query):Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(e.params),i=0!=Object.keys(t.query).length?Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(t.query):Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(t.params);delete u.__id__,delete i.__id__;const s=_helpers_config__WEBPACK_IMPORTED_MODULE_3__.a.$parseQuery.queryGet(u).decode,l=_helpers_config__WEBPACK_IMPORTED_MODULE_3__.a.$parseQuery.queryGet(i).decode;r=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.i)(n,c,s,Object.keys(c)[0]),o=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.i)(n,a,l,Object.keys(a)[0])}else null==o.name&&null!=r.name&&(o={...o,name:r.name});return{toRoute:r,fromRoute:o}},vueDevRouteProxy=function(e,t){const n=[];for(let r=0;r<e.length;r+=1){const o=e[r],c=Reflect.get(o,"children");if(null!=c){const e=vueDevRouteProxy(c,t);o.children=e}const a=Object(_proxy_proxy__WEBPACK_IMPORTED_MODULE_2__.a)(t,o);n.push(a)}return n},encodeURLQuery=function(e,t,n){if(0==Object.keys(t).length)return"";if(!1===e.h5.vueRouterDev){const{strQuery:e,historyObj:r}=_helpers_config__WEBPACK_IMPORTED_MODULE_3__.a.$parseQuery.queryGet(t);return"history"===n?r:e}return"history"===n?t:_helpers_config__WEBPACK_IMPORTED_MODULE_3__.a.$parseQuery.stringify(t)},strPathToObjPath=function(e){return null==e||Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.f)(e)?e:{path:e}},getPages=function(e=0,t){return getCurrentPages(t).reverse()[e]},H5GetPageRoute=function(e,t){if(e.length>0){const t=e[e.length-1].$route;return getRouterNextInfo(t,t,this).toRoute}return t&&t.$route?getRouterNextInfo(t.$route,t.$route,this).toRoute:{}},diffRouter=function(e,t,n,r){const o=[];if(n){const n=r||t.options.routes,c=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(e.selfRoutes);if(n.forEach(t=>{const n="/"===t.path?t.alias:t.path,r=e.vueRoutes[n]||e.vueRoutes[t.path]||e.selfRoutes[n],a=e.selfRoutes[n];if(delete c[n],null==a)return Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)(`读取 ‘pages.json’ 中页面配置错误。实例化时传递的路由表中未找到路径为：${n} \r\n\r\n 可以尝试把 ‘useUniConfig’ 设置为 ‘false’。或者配置正确的路径。如果你是动态添加的则不用理会`);let u={config:{}};r.component&&(u=getFuntionConfig(r.component.render.toString()),a.component={render:e=>r.component.render(e)}),delete a.components,delete a.children,a.meta={...u.config,...t.meta||{},PATHKEY:a.aliasPath?"aliasPath":"path",pagePath:a.path.substring(1)},a.path=a.aliasPath||("/"===t.path?t.path:a.path),t.alias="/"===t.path?t.alias:a.path;const i=Object(_proxy_proxy__WEBPACK_IMPORTED_MODULE_2__.a)(e,a);o.push(i)}),Object.keys(c).length>0){if(c["*"]&&null==r){const t=Object(_proxy_proxy__WEBPACK_IMPORTED_MODULE_2__.a)(e,e.selfRoutes["*"]);o.push(t)}if(null==r){const e=Object.keys(c);for(let t=0;t<e.length;t+=1){const n=e[t];"*"!==n&&Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.c)(`实例化时传递的routes参数：\r\n\r\n ${JSON.stringify(c[n])} \r\n\r\n 在pages.json中未找到。自定排除掉，不会添加到路由中`)}}}}else{const t=r||e.selfRoutes,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const c=t[n[r]];if(null!=c._ROUTERPATH)continue;delete c.components,delete c.children,c.path=c.aliasPath||c.path,"*"!==c.path&&(c.component=c.component.render||c.component),c.meta={...c.meta||{},PATHKEY:c.aliasPath?"aliasPath":"path",pagePath:c.path.substring(1)};const a=Object(_proxy_proxy__WEBPACK_IMPORTED_MODULE_2__.a)(e,c);o.push(a)}}return o}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return _}));var r=n(0),o=n(2),c=n(1),a=n(8);const u=function(e,t){for(let n=0;n<e.length;n+=1)e[n].call(this,t)},i=function(e,t=!0){if(t)return e.$vm;const{$mp:n}=e.$vm;return Object(a.c)(()=>{n.page.route=n.page.is}),Object(a.e)(()=>{n.page.route=n.page.is}),n},s=function(e={},t=!1){if(r.a.Router.CONFIG.encodeURI)if(t)try{e=JSON.parse(decodeURIComponent(e.query)||"{}")}catch(t){e=JSON.parse(e.query||"{}")}else try{e=JSON.parse(decodeURIComponent(e.query||encodeURIComponent("{}")))}catch(t){e=JSON.parse(e.query)}return e},l=function(e=-1,t){const n=getCurrentPages(t);return-1===e?n:-2===e?n[n.length-1]:-3===e?n[n.length-2]:n[e]},f=function(e,t=r.a.Router.CONFIG.routes){const n=Object.keys(t);for(let o=0;o<n.length;o+=1){const c=t[n[o]];if(c.path==="/"+e)return Object(r.f)(c);if(c.path===e)return Object(r.f)(c);if(c.name==e)return Object(r.f)(c)}Object(c.a)(`当前 '${e}' 在路由表中没有找到匹配的 name 或者 path`)},h=function(e){const t=Object(o.b)(e.route),{rule:n}=e;return t.query=n.query||n.params||{},t},p=function(e){const t=l(-2),{page:n,query:r}=i(t,!1),o=f(n.route,e);return o.query=s(r),o},d=function(e,t){if(null==e)return Object(c.a)("当前跳转规则为空,请检查跳转代码");let[n,r,a]=["path",null,{}];if(e.constructor===String)r=f(e,t);else{if(e.constructor!==Object)return Object(c.a)("传的什么乱七八糟的类型?路由跳转规则只认字符串 'path' , 对象 'path' , 对象 'name' ");r=f(e.path||(n="name",e.name),t),a=e.query||e.params||{}}return{rule:e,route:r,uniRoute:Object(o.h)(r.path,a)}},_=function(e,t){let[n,r]=[{},""];const o=e[e.length-1];if(e.length>0){const e=i(o,!1).query;n=s(e,!0),r=o.route}else null!=t&&(n=s(t.$mp.page.options,!0),r=o.route);const c=f(r);return c.query=n,c}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));const r=[{path:"/preview-image",name:"previewImage",component:{render:()=>{}}},{path:"/choose-location",name:"chooseLocation",component:{render:()=>{}}},{path:"/open-location",name:"openLocation",component:{render:()=>{}}}],o={beforeHooks:[],afterHooks:[]},c=[]},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(9),o=n(5);var c=class extends Array{constructor(e,t,n){super(),this.Router=e,this.vueOldHooks=t,this.hookFun=n}push(e){this.vueOldHooks.splice(0,1,e),this[this.length]=(e,t,n)=>{this.hookFun(e,t,n,this.Router)}}};const a=function(e,t){const n=Object.create(null),o=Object.keys(t);for(let c=0;c<o.length;c+=1){const a=o[c];Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get(){const n=t[a];return"beforeEnter"==a&&void 0!==n?(t,o,c)=>{Object(r.b)(t,o,c,n,e)}:n},set(e){t[a]=e}})}return n},u=function(e,t,n){const r=o.c[t];return new c(e,r,n)}},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return y}));var r=n(0),o=n(4),c=n(10),a=n(2),u=n(1);const i=function(e,t){const{indexVue:n}=r.g,o=n[e];o.splice(o.length-1,1,t)},s=function(e){return new Promise(async t=>{const n=[],{appVue:c,onLaunch:a,onShow:u,waitHooks:s,variationFuns:l,indexCallHooks:f}=r.g,h=c.$options;if(await a.fun[a.fun.length-1].call(c,a.args),u.fun[u.fun.length-1].call(c,u.args),e)for(const e in s)f.includes(e)&&o.b.call(this,s[e].fun);a.isHijack&&h.onLaunch.splice(h.onLaunch.length-1,1,a.fun[0]),u.isHijack&&h.onShow.splice(h.onShow.length-1,1,u.fun[0]);for(const e in s){const t=s[e];t.isHijack&&(l.includes(e)?n.push({key:e,fun:t.fun[0]}):i(e,t.fun[0]))}t(n)})},l=function(){const{onLaunch:e,onShow:t}=this.$options;r.g.appVue=this,e.length>1&&(r.g.onLaunch.isHijack=!0,r.g.onLaunch.fun=e.splice(e.length-1,1,e=>{r.g.onLaunch.args=e})),t.length>0&&(r.g.onShow.isHijack=!0,r.g.onShow.fun=t.splice(t.length-1,1,e=>{r.g.onShow.args=e,r.g.pageReady&&o.b.call(this,r.g.onShow.fun,e)}))},f=function(e,t){return new Promise(async n=>{const r=this.lifeCycle.beforeHooks[0];if(null==r)return n();await r.call(this,t,e,n)})},h=function(e,t){const n=this.lifeCycle.afterHooks[0];null!=n&&n.constructor===Function&&n.call(this,t,e)},p=function(e,t,n){return new Promise(async r=>{const{beforeEnter:o}=e.route;if(null==o||o.constructor!==Function)return r();await o.call(this,n,t,r)})},d=function(e,t,n){return new Promise(async r=>{if(n)return Object(u.c)("beforeRouteLeave next到其他地方，无须再执行！"),r();if(e.path==t.path)return r();const c=Object(o.f)(-2),a=Object(o.e)(c),{beforeRouteLeave:i}=a.$options;return null==i?(Object(u.c)("当前页面下无 beforeRouteLeave 钩子声明，无须执行！"),r()):null!=i&&i.constructor!==Function?(Object(u.c)("beforeRouteLeave 生命钩子声明错误，必须是一个函数！"),r()):void await i.call(a,t,e,r)})},_=async function(e,t,n,r=!1){await this.lifeCycle.routerbeforeHooks[0].call(this);const c=Object(o.g)(e,this.CONFIG.routes),a=Object(o.c)(this.CONFIG.routes),i=Object(o.d)(c);try{const e=await d.call(this,a,i,r);await O.call(this,e,t,n,!0);const o=await f.call(this,a,i);await O.call(this,o,t,n);const u=await p.call(this,c,a,i);await O.call(this,u,t,n)}catch(e){return Object(u.c)(e),!1}n&&n.call(this,c,t),h.call(this,a,i),await this.lifeCycle.routerAfterHooks[0].call(this)},g=function(e,t){const n=Object(o.f)().reverse()[e];if(null==n)return Object(u.c)("亲爱的开发者，你确定页面栈中有这么多历史记录给你返回？");const{query:r,page:a}=Object(o.e)(n,!1);_.call(this,{path:a.route,query:r},"RouterBack",(e,n)=>{const r=e.uniRoute.url;if("/"+a.route==r||a.route==r)t();else{if("RouterBack"==n)return Object(u.c)("调用返回api被拦截到其他页面需要指定合理的 ‘NAVTYPE’ ");Object(c.a)(e,n)}})},b=function(e){const t=getCurrentPages()[0];if(null==t)return Object(u.c)("打扰了,当前一个页面也没有 这不是官方的bug是什么??");const{query:n,page:a}=Object(o.e)(t,!1);_.call(e,{path:a.route,query:n},"push",async(e,t)=>{let n=[];"/"+a.route==e.route.path||a.route==e.route.path?(r.g.pageReady=!0,await s.call(this,!0)):(n=await s.call(this,!1),await Object(c.a)(e,t)),r.g.pageReady=!0,function(e){for(let t=0;t<e.length;t+=1){const{key:n,fun:r}=e[t];i(n,r)}}(n)})},y=function(t){"mp-toutiao"==e.env.VUE_APP_PLATFORM&&(r.g.toutiaoIndexThis=this);const{needHooks:n,waitHooks:o}=r.g,c=this.$options;r.g.indexVue=c;for(let e=0;e<n.length;e+=1){const t=n[e];if(null!=c[t]){const{length:e}=c[t],n=o[t]={};n.fun=c[t].splice(e-1,1,a.g),n.isHijack=!0}}b.call(this,t)},O=function(e,t,n,o=!1){return new Promise((c,a)=>null==e?c():!1===e?(r.a.LockStatus=!1,a("路由终止")):e.constructor===String?(a("next到其他页面"),_.call(this,e,t,n,o)):e.constructor===Object?(a("next到其他页面"),_.call(this,e,e.NAVTYPE||t,n,o)):void 0)}}).call(this,n(11))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return u}));const r=function(e){e()},o=function(e){e()},c=function(e){e()},a=function(e){e()},u=function(e){e()}},function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return y}));var r=n(1),o=n(3),c=n(2),a=n(5),u=n(0);let i=0,s=0,l=null,f=[];const h=new Promise(e=>l=e),p=function(){if(0==a.b.length)return Object(r.a)("检测到您未进行dom模型挂载操作，请调用api\r\n\r\n RouterMount(Vim: any, el: any): void");const{Vim:e,el:t}=a.b[0];let n=t;null==t&&(n="#app");try{e.$mount(n)}catch(e){Object(r.c)("挂载vue节点时错误啦"+e)}},d=function(e,t,n,r){const{CONFIG:a,selfRoutes:u}=r;if(a.h5.vueRouterDev)return n(t),t;if("object"==typeof t){const e=Reflect.get(t,"NAVTYPE");delete t.NAVTYPE,"push"==e?(t.replace=!1,t.type="navigateTo"):(t.replace=!0,t.type="reLaunch");const n=Reflect.get(t,"name");if(t.query=t.params||t.query,delete t.name,delete t.params,null==t.query&&(t.query={}),null!=n){const{aliasPath:e,path:r}=Object(o.h)(n,u);t.path=e||r}else{t.path=Reflect.get(t,"path");const e=Object(o.d)(t.path,u,a);if(null==e)return!1;t.path=e}if(a.encodeURI){const e=encodeURIComponent(JSON.stringify(t.query)),n=Object(c.d)(e);t.query={},""!=n&&(t.query.query=n)}}else null!=t&&t.constructor===String&&(t=Object(o.d)(t,u,a));let i=t;if(null!=t&&t.constructor!==Boolean){if(i=Object(o.i)(t),null!=i){null==Reflect.get(i,"type")&&(i.type="navigateTo")}}else!1===t&&r.lifeCycle.routerAfterHooks[0].call(r,{H5Intercept:!0});return n(i),t},_=function(e,t,n,r,c){return new Promise(async a=>{if(f.includes(e.path))return n(),a();if(f=[e.path],Reflect.get(c,"H5RouterReady")){const a=await new Promise(async n=>{const{toRoute:a,fromRoute:u}=Object(o.g)(e,t,c);await r(a,u,n)});d(0,a,n,c)}else n();a()})},g=async function(e,t,n,r){if(a.c.afterHooks[0](e,t),u.d.afterHooks[0]){0===s&&(await h,p());const{toRoute:n,fromRoute:c}=Object(o.g)(e,t,r);u.d.afterHooks[0](n,c)}else 0===s&&p();s+=1,r.lifeCycle.routerAfterHooks[0].call(r)},b=function(e,t,n,c){return new Promise(async s=>{await c.lifeCycle.routerbeforeHooks[0].call(c),await function(e,t,n,c){return new Promise(a=>{const{currentRoute:u}=c.$route;if(u.path==e.path)return a();const i=Object(o.f)();if(null==i||i._HHYANGbeforeRouteLeaveCalled)return Object(r.c)("当前环境下无须执行 beforeRouteLeave。 原因：1.page等于null  2.真的的无须执行"),a();const s=i.$options.beforeRouteLeave;if(null==s)return a();const{toRoute:l,fromRoute:f}=Object(o.g)(e,t,c);s[0].call(i,l,f,e=>{if(null==e)return a();i._HHYANGbeforeRouteLeaveCalled=!0,d(0,e,n,c)})})}(e,t,n,c);const f=c.CONFIG.h5;a.c.beforeHooks[0](e,t,async a=>{if(null!=a&&!0===f.keepUniIntercept&&!1===f.vueRouterDev)return n(a),Object(r.c)("uni-app 内部强制触发跳转拦截"),i+=1,s();if(!u.d.beforeHooks[0])return n(),i+=1,l(),s();const h=await new Promise(async n=>{const{toRoute:r,fromRoute:a}=Object(o.g)(e,t,c);await u.d.beforeHooks[0](r,a,n)}),p=d(0,h,n,c);if(0==i&&null==p&&e.meta.isTabBar){const{selfRoutes:r}=c,o=Reflect.get(r["/"+e.meta.pagePath],"beforeEnter");o&&await _(e,t,n,o,c)}i+=1,l(),s()})})},y=function(e,t,n){let r=[];r=n?Object(o.j)(e.CONFIG.routes,e):Object(o.b)(e,t,e.CONFIG.h5.useUniConfig);const c=new t.constructor({base:t.options.base,mode:t.options.mode,routes:r});t.matcher=c.matcher,u.a.vueRouter=t,u.a.RouterReadyPromise(),e.H5RouterReady=!0,setTimeout(()=>{!function(e,t){const{CONFIG:n}=e,r=t.currentRoute;if("hash"===t.mode){const{query:e,path:c}=r,a=Object(o.c)(n,e,"hash");t.replace(`${c}${a}`)}else{const{toRoute:c}=Object(o.g)(r,r,e),a=Object(o.c)(n,r.query,"history");t.replace({path:c.aliasPath||c.path||r.path,query:a,type:"redirectTo"})}}(e,t)})}},function(e,t,n){"use strict";var r=n(0),o=n(2);t.a=function(e,t){return new Promise(n=>{const c=Object(o.d)("?"+e.uniRoute.query),{url:a}=e.uniRoute;uni[r.e[t]]({url:a+c,complete:()=>{n(a),r.a.LockStatus=!1}})})}},function(e,t){var n,r,o=e.exports={};function c(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===c||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:c}catch(e){n=c}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var i,s=[],l=!1,f=-1;function h(){l&&i&&(l=!1,i.length?s=i.concat(s):f=-1,s.length&&p())}function p(){if(!l){var e=u(h);l=!0;for(var t=s.length;t;){for(i=s,s=[];++f<t;)i&&i[f].run();f=-1,t=s.length}i=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function _(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new d(e,t)),1!==s.length||l||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";const r=n(13),o=n(14),c=n(15);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function i(e,t){return t.decode?o(e):e}function s(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=s(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function h(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map(t=>i(t,e)):null===n?n:i(n,e);r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const o of e.split("&")){let[e,a]=c(t.decode?o.replace(/\+/g," "):o,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:i(a,t),n(i(e,t),a,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=f(n[e],t);else r[e]=f(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=l,t.parse=h,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[",o,"]"].join("")]:[...n,[u(t,e),"[",u(o,e),"]=",u(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[]"].join("")]:[...n,[u(t,e),"[]=",u(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[u(t,e),"=",u(r,e)].join("")]:[[n,u(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,u(t,e)]:[...n,[u(t,e),"=",u(r,e)].join("")]}}(t),o={};for(const t of Object.keys(e))n(t)||(o[t]=e[t]);const c=Object.keys(o);return!1!==t.sort&&c.sort(t.sort),c.map(n=>{const o=e[n];return void 0===o?"":null===o?u(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):u(n,t)+"="+u(o,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>({url:s(e).split("?")[0]||"",query:h(l(e),t)}),t.stringifyUrl=(e,n)=>{const r=s(e.url).split("?")[0]||"",o=t.extract(e.url),c=t.parse(o),a=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url),u=Object.assign(c,e.query);let i=t.stringify(u,n);return i&&(i="?"+i),`${r}${i}${a}`}},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function c(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],c(n),c(r))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=c(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="�";for(var c=Object.keys(t),u=0;u<c.length;u++){var i=c[u];e=e.replace(new RegExp(i,"g"),t[i])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";n.r(t),n.d(t,"RouterMount",(function(){return le}));var r=n(2),o=n(0),c=n(1);const a=function(e=[],t){for(let n=0;n<e.length;n+=1)e[n].call(this,t)},u=function(e=-1,t){const n=getCurrentPages(t);return-1===e?n:-2===e?n[n.length-1]:-3===e?n[n.length-2]:n[e]},i=function(e,t=!0){return t?e.$vm:e.$vm.$mp?e.$vm.$mp:function(e){return{s:!0,z:!1}[e.constructor.name]}(e)?{page:e,query:e.__displayReporter.query}:void 0},s=function(e,t=o.a.Router.CONFIG.routes){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const c=t[n[r]];if(c.path==="/"+e)return Object(o.f)(c);if(c.path===e)return Object(o.f)(c);if(c.name==e)return Object(o.f)(c)}Object(c.a)(`当前 '${e}' 在路由表中没有找到匹配的 name 或者 path`)},l=function(e={}){if(o.a.Router.CONFIG.encodeURI)try{e=JSON.parse(decodeURIComponent(e.query||encodeURIComponent("{}")))}catch(t){e=JSON.parse(e.query)}return e},f=function(e,t){let[n,r]=[{},""];const o=e[e.length-1];e.length>0?(n=l(o.options),r=o.route):null!=t&&(n=l(t.$mp.page.options),r=o.route);const c=s(r);return c.query=n,c},h=function(e){return new Promise(async t=>{const n=u(-2),{onBeforeBack:r}=n.$vm.$options;if(null!=r&&r.constructor===Function){if(!0===await r.call(n.$vm,e))return t(!1)}return t(!0)})},p=function(e){const t=e.$getAppWebview().getStyle();if(null!=t.titleNView&&t.titleNView.autoBackButton)return!0;const{$page:n}=e;return!(!n||!1!==n.meta.isQuit)};let d=null;var _=function(e,t){return new Promise(n=>{const c=Object(r.d)("?"+e.uniRoute.query),{APP:a}=o.c,{url:u}=e.uniRoute;d=setTimeout(()=>{n(u),n=r.g,o.a.LockStatus=!1},a.switchPageOutTime),uni[o.e[t]]({url:u+c,...e.route.animation,complete:()=>{clearTimeout(d),n(u),n=r.g,o.a.LockStatus=!1}},!0)})};let g=!1;const b=function(e){return new Promise(async t=>{const n=[],{appVue:r,indexVue:c,onLaunch:u,onShow:i,waitHooks:s,variationFuns:l,indexCallHooks:f}=o.g,h=r.$options;if(await u.fun[u.fun.length-1].call(r,u.args),i.fun[i.fun.length-1].call(r,i.args),e)for(const e in s)f.includes(e)&&a.call(this,s[e].fun);u.isHijack&&h.onLaunch.splice(h.onLaunch.length-1,1,u.fun[0]),i.isHijack&&h.onShow.splice(h.onShow.length-1,1,i.fun[0]);for(const e in s){const t=s[e];if(t.isHijack)if(l.includes(e))n.push({key:e,fun:t.fun[0]});else{const n=c[e];setTimeout(()=>{n.splice(n.length-1,1,t.fun[0])},50)}}t(n)})},y=function(){const{onLaunch:e,onShow:t}=this.$options;o.g.appVue=this,e.length>1&&(o.g.onLaunch.isHijack=!0,o.g.onLaunch.fun=e.splice(e.length-1,1,e=>{o.g.onLaunch.args=e})),t.length>0&&(o.g.onShow.isHijack=!0,o.g.onShow.fun=t.splice(t.length-1,1,e=>{o.g.onShow.args=e,o.g.pageReady&&a.call(this,o.g.onShow.fun,e)}))},O=function(e){const{needHooks:t,waitHooks:n}=o.g,c=this.$options;o.g.indexVue=c;for(let e=0;e<t.length;e+=1){const o=t[e];if(null!=c[o]){const{length:e}=c[o],t=n[o]={};t.fun=c[o].splice(e-1,1,r.g),t.isHijack=!0}}C.call(this,e)},m=function(e,t){return new Promise(async n=>{const r=this.lifeCycle.beforeHooks[0];if(null==r)return n();await r.call(this,t,e,n)})},j=function(e,t){const n=this.lifeCycle.afterHooks[0];null!=n&&n.constructor===Function&&n.call(this,t,e)},R=function(e,t,n){return new Promise(async r=>{const{beforeEnter:o}=e.route;if(null==o||o.constructor!==Function)return r();await o.call(this,n,t,r)})},P=function(e,t,n=1){const o=f([e]);T.call(this,{path:o.path,query:o.query},"RouterBack",(e,o)=>"RouterBack"!=o?_(e,o):g?Object(c.c)("当前处于正在返回的状态，请稍后再试！"):(g=!0,t.onBackPress=[r.g],void setTimeout(()=>{this.back(n,void 0,!0),g=!1})))},w=async function(e,t){if(!1===await h(t))return o.a.LockStatus=!1,!1;const n=u(-3);P.call(this,n,e)},k=async function(e,t){await h(t);const{backLayerC:n}=o.a,r=u();let c=null;c=n>r.length-1||n==r.length-1?r[0]:r[r.length-2],P.call(this,c,e,n)},v=function(e,t,n){return new Promise(r=>{if(n)return Object(c.c)("beforeRouteLeave next到其他地方，无须再执行！"),r();if(e.path==t.path)return r();const o=u(-2),a=i(o),{beforeRouteLeave:s}=a.$options;return null==s?(Object(c.c)("当前页面下无 beforeRouteLeave 钩子声明，无须执行！"),r()):null!=s&&s.constructor!==Function?(Object(c.c)("beforeRouteLeave 生命钩子声明错误，必须是一个函数！"),r()):void s.call(a,t,e,r)})},E=function(e,t,n,r=!1){return new Promise((c,a)=>null==e?c():!1===e?(o.a.LockStatus=!1,a("路由终止")):e.constructor===String?(a("next到其他页面"),T.call(this,e,t,n,r)):e.constructor===Object?(a("next到其他页面"),T.call(this,e,e.NAVTYPE||t,n,r)):void 0)},T=async function(e,t,n,a=!1){await this.lifeCycle.routerbeforeHooks[0].call(this);const f=function(e,t){if(null==e)return Object(c.a)("当前跳转规则为空,请检查跳转代码");let[n,a,u,i]=["path",null,{},{}];if(e.constructor===String)a=s(e,t);else{if(e.constructor!==Object)return Object(c.a)("传的什么乱七八糟的类型?路由跳转规则只认字符串 'path' , 对象 'path' , 对象 'name' ");a=s(e.path||(n="name",e.name),t),u=e.query||e.params||{},i=e.animation||{}}return i={...o.a.Router.CONFIG.APP.animation,...a.animation||{},...i},a.animation=i,{rule:e,route:a,uniRoute:Object(r.h)(a.path,u)}}(e,this.CONFIG.routes),h=function(e){const t=u(-2),{page:n,query:r}=i(t,!1),o=s(n.route,e);return o.query=l(r),o}(this.CONFIG.routes),p=function(e){const t=Object(r.b)(e.route),{rule:n}=e;return t.query=n.query||n.params||{},t}(f);try{const e=await v.call(this,h,p,a);await E.call(this,e,t,n,!0);const r=await m.call(this,h,p);await E.call(this,r,t,n);const o=await R.call(this,f,h,p);await E.call(this,o,t,n)}catch(e){return Object(c.c)(e),!1}n&&n.call(this,f,t),j.call(this,h,p),await this.lifeCycle.routerAfterHooks[0].call(this)},C=function(e){const t=getCurrentPages()[0];if(null==t)return Object(c.c)("打扰了,当前一个页面也没有 这不是官方的bug是什么??");const{query:n,page:r}=i(t,!1);T.call(e,{path:r.route,query:n},"push",async(e,t)=>{let n=[];"/"+r.route==e.route.path?(o.g.pageReady=!0,await b.call(this,!0)):(n=await b.call(this,!1),await _(e,t)),plus.nativeObj.View.getViewById("router-loadding").close(),function(e){for(let t=0;t<e.length;t+=1){const{key:n,fun:r}=e[t],c=o.g.indexVue[n];c.splice(c.length-1,1,r)}}(n),o.g.pageReady=!0})},H=function(e){T.call(this,{path:"/"+e,query:{}},"pushTab",(e,t)=>{_(e,t)})};var L=n(7),A=n(10),x=n(3);var S=function(e,t,n){if(null==this.$route)return Object(c.a)("h5端路由为就绪，请检查调用代码");t=Object(x.d)(t,this.selfRoutes,this.CONFIG);const r=Object(x.i)(t);r.type=n,this.$route[e](r)},I=n(8);const N=function({backLayer:e,delta:t,H5PATCH:n}){I.b(()=>{n.on("historyBack",{backLayer:e,delta:t})}),I.a(()=>{o.a.backLayerC=e,uni.navigateBack({delta:e,complete:()=>{o.a.LockStatus=!1}})}),I.d(()=>{L.c.call(this,e,()=>{uni.navigateBack({delta:e})})})},q=function(e,t){if(null==e)return Object(c.a)("跳转规则为空，不允许这样操作");if(e.constructor===String){const t=e.split("?");t.length>1&&(e={path:t[0],query:o.a.$parseQuery.parse(t[1])})}switch(Object(r.a)(!0)){case"H5":return S.call(this,o.b[t],e,o.e[t]);case"APP":return o.a.LockStatus=!0,T.call(this,e,t,_);case"APPLETS":return o.a.LockStatus=!0,L.b.call(this,e,t,A.a);default:Object(c.a)("糟糕！！！还有其他的执行环境？？？没听说过啊。一脸懵逼？？？加QQ群问问：769241495")}};var $=function(e,t,n=!1,r=!1){return o.a.LockStatus&&!r?Object(c.c)("当前页面正在处于跳转状态，请稍后再进行跳转...."):n?N.call(this,e,t):q.call(this,e,t)},D=n(4);const F=function({tag:e,attrs:t,children:n}={}){const r=document.createElement(e);for(const[e,n]of Object.entries(t))r.setAttribute(e,n);for(const e of n)r.appendChild("string"==typeof(o=e)?document.createTextNode(o):o instanceof HTMLElement?o:F(o));var o;return r},U=F({tag:"div",attrs:{id:"router-loadding"},children:[F({tag:"div",attrs:{class:"loadding"},children:[]})]}),M={style:F({tag:"style",attrs:{id:"HHYANG_style"},children:["\n\t\tbody{padding:0;margin:0}#router-loadding{position:fixed;width:100%;height:3px;transition:all .05s;top:0;z-index:9999999999999999;}#router-loadding .loadding{position:fixed;top:0;height:3px;background-color:#47b14b;width:0;box-shadow:0 0 15px #4CAF50;transition:all .8s;border-top-right-radius:3px;border-bottom-right-radius:3px}\n\t\t"]}),html:U,script:F({tag:"script",attrs:{id:"HHYANG_script"},children:['\n\t\tvar HHYANG_El=document.querySelector("#router-loadding .loadding"),HHYANG_Pel=document.querySelector("#router-loadding"),w=0,stop=null,WH=window.innerWidth,loop=function(){w=w>=WH-35?w+parseInt(5*Math.random()):w+parseInt(35*Math.random());HHYANG_El.style.cssText="width:"+w+"px";w>=WH&&clearInterval(stop)};window.startLodding=function(a){a=void 0===a?500:a;HHYANG_Pel.style.cssText="display: block;";HHYANG_El.style.cssText="transition: all 0.8s;";w=0;clearInterval(stop);stop=setInterval(function(){loop()},a)};window.stopLodding=function(a){a=void 0===a?200:a;clearInterval(stop);HHYANG_El.style.cssText="width:"+WH+"px;transition: all "+a/1E3+"s;";HHYANG_Pel.style.cssText="opacity: 0;transition: all "+a/1E3+"s;";setTimeout(function(){HHYANG_Pel.style.cssText="display: none;";HHYANG_El.style.cssText="width:0px";w=0},a)};\n\t\t']})};var B=n(9),G=n(6);var K=function(e,t){const n=e.CONFIG.h5;t.afterHooks=Object(G.b)(e,"afterHooks",B.a),t.beforeHooks=Object(G.b)(e,"beforeHooks",B.c);const r=Object(x.e)(t.options.routes,!1,{}),o=Object(x.e)(e.CONFIG.routes,!0,n);e.vueRoutes=r,e.selfRoutes={...e.selfRoutes||{},...o},e.$route=t,function(e){if(!1===e.CONFIG.h5.rewriteFun)return!1;uni.reLaunch=function({url:t}){if("/"===t)return Object(c.c)("H5端 uni.reLaunch('/')时 默认被重写了! 你可以使用 this.$Router.replaceAll() 或者 uni.reLaunch('/'?xxx)"),history.length>1?e.back():e.replaceAll("/");const n=t.match(/^[^?]+|(\/)/)[0];try{const r={};t.replace(/([^?&]+)=([^?&]+)/g,(e,t,n)=>(r[t]=decodeURIComponent(n),`${n}=${t}`)),e.replaceAll({path:n,query:r})}catch(e){Object(c.a)(t+"解析失败了....  试试 this.$Router.replaceAll() 吧")}},uni.navigateBack=function(t){let n=t;t.constructor===Object&&(n=1),e.back(n,t)}}(e),Object(B.d)(e,t,n.vueRouterDev)};var W=class{constructor(e){this.H5=e,this.isLoading=!0,this.loadingCount=0}on(e,t,n){if(this.H5)return this[e](t);n&&n()}registerHook(e,t,n){K(e,t,n)}historyBack({backLayer:e,delta:t={from:"navigateBack"}}={}){const n=getCurrentPages(),r=n[n.length-1],{onBackPress:o}=r.$options;if(null!=o&&o.constructor===Array){if(o[o.length-1].call(r,t))return!0}history.go(-e)}appendHTML({style:e,html:t,script:n}){window.addEventListener("DOMContentLoaded",()=>{const r=document.querySelector("body");r.appendChild(e),r.appendChild(t),r.appendChild(n),this.toogle("startLodding",!0)})}toogle(e,t=!1){if(t&&0!==this.loadingCount)return this.loadingCount+=1,!1;try{this.loadingCount+=1,this.isLoading&&window[e]()}catch(e){Object(c.c)("你使用了 addRoutes API 提前进行了生命周期 并触发了startLodding")}}async setLoadingStatus({loading:e,replaceStyle:t,resetStyle:n}){if(this.isLoading=e,e){const e=n(),r=Object.keys(e);for(let n=0;n<r.length;n+=1){const o=r[n];let c=e[o];"style"!==o||t||(c=M[o].innerHTML+c),M[o].innerHTML=c}this.appendHTML(M)}}};const Y=new W(Object(r.e)()),V=function(e,t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},J=function(){V(this.lifeCycle.routerbeforeHooks,(function(){return new Promise(async e=>(this.CONFIG.routerBeforeEach(),"H5"===Object(r.a)(!0)&&Y.on("toogle","startLodding"),e(!0)))})),V(this.lifeCycle.routerAfterHooks,(function(e={}){return!0!==e.H5Intercept&&this.CONFIG.routerAfterEach(),"H5"===Object(r.a)(!0)&&Y.on("toogle","stopLodding"),!0}))};var Q=n(5);var z=function(e){e.$mount()};var X=function(e){e.$mount()};const Z=function(e){const t=uni.switchTab;uni.switchTab=function({url:n,...r},a=!1){if(!0===a||!1===o.g.pageReady)t({url:n,...r});else if(o.g.pageReady){const{path:t}=e.$Route;if(t==n)return Object(c.c)(`当前跳转路径：${n}  已在本页面无须跳转`);H.call(e,n.substring(1))}else Object(c.c)("路由守卫正在忙碌中 不允许执行 ‘uni.switchTab’")}},ee=function(e,t,n){if("navigateBack"==n[0].from)return o.a.LockStatus?(Object(c.c)("当前页面正在处于跳转状态，请稍后再进行跳转...."),!0):(o.a.LockStatus=!0,k.call(this,t,n),!0);return!!p(e)&&(o.a.LockStatus?(Object(c.c)("当前页面正在处于跳转状态，请稍后再进行跳转...."),!0):(o.a.LockStatus=!0,w.call(this,t,n),!0))},te=function(e){y.call(this);const{holdTabbar:t}=e.CONFIG.APP;t&&Z(e),function(e){const{loddingPageHook:t,loddingPageStyle:n}=e.CONFIG.APP,r=new plus.nativeObj.View("router-loadding",{top:"0px",left:"0px",height:"100%",width:"100%",...n.call(e)});t.call(e,r)}(e)};var ne=function(){L.d.call(this)};const re=function(e){return{H5:{beforeCreate(){this.$options.router&&K(e.$root,this.$options.router,this)}},APP:{onLaunch(){o.g.onLaunched=!0,te.call(this,e.$root)},onLoad(){var t,n;o.g.onLaunched&&!o.g.pageReady&&(o.g.onLaunched=!1,O.call(this,e.$root)),t=this.$mp.page,n=this.$options,p(t)&&(n.onBackPress=[n.onBackPress[0]])},onBackPress(...t){return ee.call(e.$root,this.$mp.page,this.$options,t)}},APPLETS:{onLaunch(){o.g.onLaunched=!0,ne.call(this,e.$root)},onLoad(){o.g.onLaunched&&!o.g.pageReady&&(o.g.onLaunched=!1,L.a.call(this,e.$root))}}}};var oe=function(e,t){e.mixin({...re(t)[Object(r.a)(!0)]})};const ce=n(12);var ae=class{get queryName(){return ce}isDepthObject(e){return JSON.stringify(e).match(/}/g).length>1}extract(e){return ce.extract(e)}parse(e){return ce.parse(e)}stringify(e,t=!0){const n=ce.stringify(e);return t?"?"+n:n}encode(e,t=!0){let[n,r]=["",""];if(null==e)return Object(c.c)("加密参数没有传递，你知道？",!0),"";if(e.constructor===String)n=JSON.stringify(this.parse(e));else if(e.constructor===Object){if(0===Object.keys(e).length)return Object(c.c)("当前参数不满足加密规范！"),"";n=JSON.stringify(e)}return t&&(r="?"),r+="query="+encodeURIComponent(n),r}decode(e){if(null==e)return Object(c.c)("解密参数没有传递，你知道？",!0),{};let t=e;if(e.constructor===Object){if(t=e.query,null==t)return Object(c.c)("当前解密参数不满足编码规则"),{};t="query="+t}let n={};const r=decodeURIComponent(t),{query:o}=this.parse(r);if(null==o)Object(c.c)("当前解密参数不满足编码规则");else try{n=JSON.parse(o)}catch(e){Object(c.c)("当前解密参数不满足编码规则")}return n}queryGet(e){const{encodeURI:t}=o.a.Router.CONFIG;let[n,r,a]=[e,e,""];switch(t){case!0:n=this.decode(e),a=this.encode(n),r={query:encodeURIComponent(JSON.stringify(n))};break;case!1:a=this.stringify(e);break;default:Object(c.a)("未知参数模式，请检查 'encodeURI'",!0)}return{strQuery:a,historyObj:r,decode:n}}transfer(e={}){const{encodeURI:t}=o.a.Router.CONFIG;switch(t){case!0:return this.encode(e,!1);case!1:return this.stringify(e);default:Object(c.a)("未知参数模式，请检查 'encodeURI' ",!0)}}};let ue=null;ue=new W(Object(r.e)());const ie=new ae;o.a.H5RouterReady=new Promise(e=>o.a.RouterReadyPromise=e);class se{constructor(e){se.$root=this,o.a.Router=this,o.a.$parseQuery=ie,this.CONFIG=Object(r.c)(e),this.lifeCycle=o.d,J.call(this),"H5"===Object(r.a)()&&ue.setLoadingStatus(this.CONFIG.h5)}get $Route(){return this.getPageRoute()}get $parseQuery(){return o.a.$parseQuery}get $lockStatus(){return o.a.LockStatus}set $lockStatus(e){Object(c.c)("你确定要这么做？你知道后果？",!0),o.a.LockStatus=e}push(e){$.call(this,e,"push")}replace(e){$.call(this,e,"replace")}replaceAll(e){$.call(this,e,"replaceAll")}pushTab(e){$.call(this,e,"pushTab")}back(e=1,t,n=!1){if(e.constructor!=Number)return Object(c.a)("返回层级参数必须是一个Number类型且必须大于1："+e);$.call(this,{backLayer:e,delta:t,H5PATCH:ue},"back",!0,n)}getPageRoute(e){const t=getCurrentPages();switch(Object(r.a)(!0)){case"H5":return x.a.call(this,t,e);case"APP":return f(t,e);case"APPLETS":return Object(D.a)(t,e)}}beforeEach(e){return V(this.lifeCycle.beforeHooks,e)}afterEach(e){return V(this.lifeCycle.afterHooks,e)}}se.install=function(e){oe(e,se),Object.defineProperty(e.prototype,"$Router",{get:()=>se.$root}),Object.defineProperty(e.prototype,"$Route",{get(){return se.$root.getPageRoute(this)}})};t.default=se;const le=function(e,t){switch(Object(r.a)(!0)){case"APP":X(e,t);break;case"APPLETS":z(e,t);break;case"H5":Q.b.push({Vim:e,el:t});break;default:Object(c.c)("糟糕！！！还有其他的执行环境？？？没听说过啊。一脸懵逼？？？加QQ群问问：769241495")}}}]);