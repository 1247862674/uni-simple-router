!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return s}));const r={h5:{rewriteFun:!0,paramsToQuery:!1,loading:!0,hinderTab:!1,vueRouterDev:!1,useUniConfig:!0,keepUniIntercept:!1,vueNext:!1,replaceStyle:!1,resetStyle:()=>JSON.parse("{}"),mode:"hash",base:"/",linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",scrollBehavior:(e,t,n)=>n,fallback:!0},APP:{V3:!1,holdTabbar:!0,rewriteFun:!0,loddingPageStyle:()=>JSON.parse('{"backgroundColor":"#FFF"}'),loddingPageHook:()=>{plus.navigator.closeSplashscreen()},holdTabbarStyle:()=>JSON.parse("{}"),animation:{animationType:"pop-in",animationDuration:300},switchPageOutTime:1e3},debugger:!1,encodeURI:!0,routerBeforeEach:()=>{},routerAfterEach:()=>{},routes:[]},o={push:"navigateTo",replace:"redirectTo",replaceAll:"reLaunch",pushTab:"switchTab",back:"navigateBack"},c={push:"push",replace:"replace",replaceAll:"replace",pushTab:"replace"},a={beforeHooks:[],afterHooks:[],routerHooks:[],routerbeforeHooks:[],routerAfterHooks:[]},u={Router:{},vueRouter:{},addedRoutes:[],RouterReadyPromise:()=>{},H5RouterReady:null,$holdTab:null,backLayerC:1},i={indexVue:{},toutiaoIndexThis:{},appVue:{},onLaunch:{fun:[],args:{},isHijack:!1},onShow:{fun:[],args:{},isHijack:!1},variationFuns:["onReady","onUnload"],waitHooks:{},indexCallHooks:["onLoad","onReady","created","onShow"],needHooks:["onLoad","onReady","onShow","created","onHide","onUnload","onResize"],pageReady:!1,onLaunched:!1},s=function(e={}){return{...e,params:{},query:{}}}},function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return _})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return g})),n.d(t,"j",(function(){return b}));var r=n(0),o=n(4),c=n(2);const a=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},u=function(e){return"[object Object]"===e.toString()&&e.constructor===Object},i=function(e=!1){let t="";return t="APPNVUE",t="APP",t="H5",t="ALIPAY",t="BAIDU",t="QQ",t="WEIXIN",t="TOUTIAO",e&&(t="APPLETS"),t},s=function(...e){!0===e[e.length-1]&&Object(c.b)(e)},l=function(e){if(!e.routes||e.routes.constructor!==Array)return Object(c.a)("路由参数 'routes' 必须传递 \r\n\r\n"+JSON.stringify(e));if(null!=e.h5&&e.h5.constructor!==Object)return Object(c.a)("h5参数传递错误，应该是一个 'Object' 类型 示例：\r\n\r\n"+JSON.stringify(r.c.h5));const t=Object.create(null),n=Object.keys(r.c);for(let c=0;c<n.length;c+=1){const a=n[c];null!=e[a]?e[a].constructor===Object?t[a]={...r.c[a],...e[a]}:t[a]="routes"==a?[...r.c[a],...e[a],...o.a]:e[a]:t[a]=r.c[a]}return t},h=function(e,t,n){if(n){const n={},r=/([^=&\s]+)[=\s]*([^&\s]*)/g;for(;r.exec(t);)n[RegExp.$1]=RegExp.$2;return{url:e,query:n}}const r=[],o=Object.keys(t);for(let a=0;a<o.length;a+=1){const u=o[a];let i="";t[u].constructor==Object?(i=h(e,t[u],n).query,r.push(i)):(c=t[u],i=c=(c=(c=(c=(c=(c=(c=(c=(c+="").replace(/%/g,"%25")).replace(/\+/g,"%2B")).replace(/ /g,"%20")).replace(/\//g,"%2F")).replace(/\?/g,"%3F")).replace(/&/g,"%26")).replace(/=/g,"%3D")).replace(/#/g,"%23"),r.push(`${u}=${i}`))}var c;return{url:e,query:r.join("&")}},f=function(e,t,n=!1){return r.a.Router.CONFIG.encodeURI?function(e,t,n){return n?{url:e,query:JSON.parse(decodeURIComponent(t.replace(/^query=/,"")))}:{url:e,query:"query="+encodeURIComponent(JSON.stringify(t))}}(e,t,n):h(e,t,n)},p=function(e,t,n,r=!1){const o={};let u=0;for(;;){const i=t[u];if(null==i)return r||Object(c.a)(`路由表中未查找到 '${n}' 为 '${e[n]}'`),{path:"",name:""};if(null!=i[n]&&i[n]===e[n])return r?i:(o.url=i.path,o.rule=i,a()&&(o.url=i.aliasPath||i.path),o);u+=1}},_=function(e,t,n={},o="path"){return{...Object(r.f)(p({...t},e.CONFIG.routes,o,e)),query:n}},d=function(e){switch(e.trim()){case"query=%7B%7D":case"%7B%7D":case"?query=%7B%7D":case"?":case"?[object Object]":case"?query={}":e="";break;default:Object(c.c)("url已经很完美啦，不需要格式化！")}return e},g=function(e){return JSON.parse(JSON.stringify(e))},b=function(e){return JSON.stringify(JSON.parse(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(0);const o=function(e,t){const n=r.a.Router.CONFIG.debugger,o="[object Object]"===n.toString();return!1!==n&&(!1!==n&&((!o||!1!==n[e])&&void console[e](t)))},c=function(e){o("error",e)},a=function(e){o("warn",e)},u=function(e){o("log",e)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return fromatRoutes})),__webpack_require__.d(__webpack_exports__,"g",(function(){return nameToRute})),__webpack_require__.d(__webpack_exports__,"d",(function(){return formatUserRule})),__webpack_require__.d(__webpack_exports__,"f",(function(){return getRouterNextInfo})),__webpack_require__.d(__webpack_exports__,"i",(function(){return vueDevRouteProxy})),__webpack_require__.d(__webpack_exports__,"c",(function(){return encodeURLQuery})),__webpack_require__.d(__webpack_exports__,"h",(function(){return strPathToObjPath})),__webpack_require__.d(__webpack_exports__,"a",(function(){return H5GetPageRoute})),__webpack_require__.d(__webpack_exports__,"b",(function(){return diffRouter}));var _helpers_warn__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_helpers_util__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_patch_applets_patch__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),_proxy_proxy__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6);const pagesConfigReg=/props:\s*\(.*\)\s*(\([\s\S]*\))\s*},/,pagesConfigRegCli=/props:\s*Object\.assign\s*(\([\s\S]*\))\s*},/,defRoutersReg=/props:\s*{([\s\S]+)}\s*},/,resolveRender=function({component:e,components:t},n,r){return null!=t&&Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.c)("vueRouterDev:false时 路由表配置中 ‘components’ 无效，\r\n\r\n "+JSON.stringify(n)),1!=r&&("*"==n.path||(null==e?Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)("vueRouterDev:false时 路由表中 ‘component’ 选项不能为空：\r\n\r\n "+JSON.stringify(n)):void(e.constructor===Function?n.component={render:e}:e.constructor===Object?null!=e.render&&e.render.constructor===Function||Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)("vueRouterDev:false时 路由表配置中 ‘render’ 函数缺失或类型不正确：\r\n\r\n "+JSON.stringify(n)):Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)("vueRouterDev:false时 路由表配置中 ‘component’ 选项仅支持 Function、Object 类型。并确保 Object 类型时传递了 ‘render’ 函数  ：\r\n\r\n "+JSON.stringify(n)))))},resloveChildrenPath=function(e,t,n){for(let r=0;r<t.length;r+=1){const o=t[r];resolveRender(o,o,n),null!=o.path?e[o.path]={...o,_ROUTERPATH:!0}:e[o.aliasPath]={...o,_ROUTERPATH:!1},o.children&&o.children.constructor===Array&&resloveChildrenPath(e,o.children,n)}},fromatRoutes=function(e,t,{vueRouterDev:n,useUniConfig:r}){if(t&&n)return e;const o={};for(let n=0;n<e.length;n+=1){const c=e[n],a="/"===c.path?c.alias:c.path;t&&(c.children&&c.children.constructor===Array&&resloveChildrenPath(o,c.children,r),resolveRender(c,c,r)),o[a]={...c,_PAGEPATH:a.substring(1)}}return o},getFuntionConfig=function(FunStr){let matchText=FunStr.match(pagesConfigReg),prefix="";if(null==matchText)if(matchText=FunStr.match(pagesConfigRegCli),null==matchText)try{matchText=FunStr.match(defRoutersReg)[1],matchText=eval(`Object.assign({${matchText}})`),prefix="system-"}catch(e){Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)("读取uni-app页面构建方法配置错误 \r\n\r\n "+e)}else matchText=eval("Object.assign"+matchText[1]);else matchText=eval("Object.assign"+matchText[1]);return{config:matchText,prefix:prefix,FunStr:FunStr}},pathToRute=function(e,t){let n="",r={};const o=Object.keys(t);for(let c=0;c<o.length;c+=1){const a=t[o[c]];if(r=a,a.aliasPath==e){n="aliasPath";break}if("/"+a._PAGEPATH==e){n="path";break}}return{PATHKEY:{[n]:e},rute:r}},nameToRute=function(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=t[n[r]];if(o.name==e)return o}Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)(`路由表中没有找到 name为:'${e}' 的路由`)},formatUserRule=function(e,t,n){let r="";const o=(r="query",e.query||(r="params",e.params)||(r="",{}));let c={};if(""==r&&null!=e.name&&(r="params"),"params"!=r){const n=pathToRute(e.path||e,t);if(""==Object.keys(n.PATHKEY)[0])return Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)(`'${n.PATHKEY[""]}' 路径在路由表中未找到`),null;c=n.rute,e.path&&(e.path=c.path)}if(""!=r){if("params"==r&&n.h5.paramsToQuery){const{aliasPath:n,path:o}=nameToRute(e.name,t);delete e.name,delete e.params,e.path=n||o,r="query"}let{query:c}=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.h)(r,o,!1);n.encodeURI?(c=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.d)(c),""!=c&&(e[r]={query:c.replace(/^query=/,"")})):e[r]=o}else e=c.path;return e},getRouterNextInfo=function(e,t,n){let[r,o]=[e,t];const c=n.CONFIG.h5;if(!1===c.vueNext&&!1===c.vueRouterDev){let[c,a]=[{},{}];c[e.meta.PATHKEY]="path"===e.meta.PATHKEY?"/"+e.meta.pagePath:""+e.path,a[t.meta.PATHKEY]="path"===t.meta.PATHKEY?"/"+t.meta.pagePath:""+t.path,null==e.meta.PATHKEY&&(c=pathToRute(e.path,n.selfRoutes).PATHKEY),null==t.meta.PATHKEY&&(a=pathToRute(t.path,n.selfRoutes).PATHKEY);const u=0!=Object.keys(e.query).length?Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(e.query):Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(e.params),i=0!=Object.keys(t.query).length?Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(t.query):Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(t.params);delete u.__id__,delete i.__id__;const s=Object(_patch_applets_patch__WEBPACK_IMPORTED_MODULE_2__.b)({query:u}).query,l=Object(_patch_applets_patch__WEBPACK_IMPORTED_MODULE_2__.b)({query:i}).query;r=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.i)(n,c,s,Object.keys(c)[0]),o=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.i)(n,a,l,Object.keys(a)[0])}else null==o.name&&null!=r.name&&(o={...o,name:r.name});return{toRoute:r,fromRoute:o}},vueDevRouteProxy=function(e,t){const n=[];for(let r=0;r<e.length;r+=1){const o=e[r],c=Reflect.get(o,"children");if(null!=c){const e=vueDevRouteProxy(c,t);o.children=e}const a=Object(_proxy_proxy__WEBPACK_IMPORTED_MODULE_3__.a)(t,o);n.push(a)}return n},encodeURLQuery=function(e,t,n){let r="";if(r=!0===e.encodeURI&&!1===e.h5.vueRouterDev?"?query="+encodeURIComponent(Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.j)(t.query||"{}")):"?"+Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.h)("",t,!1).query,r=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.d)(r),"history"===n){const e=r.replace(/\?query=/,e=>(""!=e&&(r={query:""}),""));r.constructor===Object&&(r.query=e)}return r},strPathToObjPath=function(e){return null==e||Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.f)(e)?e:{path:e}},H5GetPageRoute=function(e,t){if(e.length>0){const t=e[e.length-1].$route;return getRouterNextInfo(t,t,this).toRoute}return t&&t.$route?getRouterNextInfo(t.$route,t.$route,this).toRoute:{}},diffRouter=function(e,t,n,r){const o=[];if(n){const n=r||t.options.routes,c=Object(_helpers_util__WEBPACK_IMPORTED_MODULE_1__.b)(e.selfRoutes);if(n.forEach(t=>{const n="/"===t.path?t.alias:t.path,r=e.vueRoutes[n]||e.vueRoutes[t.path]||e.selfRoutes[n],a=e.selfRoutes[n];if(delete c[n],null==a)return Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.a)(`读取 ‘pages.json’ 中页面配置错误。实例化时传递的路由表中未找到路径为：${n} \r\n\r\n 可以尝试把 ‘useUniConfig’ 设置为 ‘false’。或者配置正确的路径。如果你是动态添加的则不用理会`);let u={config:{}};r.component&&(u=getFuntionConfig(r.component.render.toString()),a.component={render:e=>r.component.render(e)}),delete a.components,delete a.children,a.meta={...u.config,...t.meta||{},PATHKEY:a.aliasPath?"aliasPath":"path",pagePath:a.path.substring(1)},a.path=a.aliasPath||("/"===t.path?t.path:a.path),t.alias="/"===t.path?t.alias:a.path;const i=Object(_proxy_proxy__WEBPACK_IMPORTED_MODULE_3__.a)(e,a);o.push(i)}),Object.keys(c).length>0){if(c["*"]&&null==r){const t=Object(_proxy_proxy__WEBPACK_IMPORTED_MODULE_3__.a)(e,e.selfRoutes["*"]);o.push(t)}if(null==r){const e=Object.keys(c);for(let t=0;t<e.length;t+=1){const n=e[t];"*"!==n&&Object(_helpers_warn__WEBPACK_IMPORTED_MODULE_0__.c)(`实例化时传递的routes参数：\r\n\r\n ${JSON.stringify(c[n])} \r\n\r\n 在pages.json中未找到。自定排除掉，不会添加到路由中`)}}}}else{const t=r||e.selfRoutes,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const c=t[n[r]];if(null!=c._ROUTERPATH)continue;delete c.components,delete c.children,c.path=c.aliasPath||c.path,"*"!==c.path&&(c.component=c.component.render||c.component),c.meta={...c.meta||{},PATHKEY:c.aliasPath?"aliasPath":"path",pagePath:c.path.substring(1)};const a=Object(_proxy_proxy__WEBPACK_IMPORTED_MODULE_3__.a)(e,c);o.push(a)}}return o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));const r=[{path:"/preview-image",name:"previewImage",component:{render:()=>{}}},{path:"/choose-location",name:"chooseLocation",component:{render:()=>{}}},{path:"/open-location",name:"openLocation",component:{render:()=>{}}}],o={beforeHooks:[],afterHooks:[]},c=[]},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return _})),n.d(t,"a",(function(){return d}));var r=n(0),o=n(1),c=n(2),a=n(8);const u=function(e,t){for(let n=0;n<e.length;n+=1)e[n].call(this,t)},i=function(e,t=!0){if(t)return e.$vm;const{$mp:n}=e.$vm;return Object(a.c)(()=>{n.page.route=n.page.is}),Object(a.e)(()=>{n.page.route=n.page.is}),n},s=function(e={},t=!1){if(r.a.Router.CONFIG.encodeURI)if(t)try{e=JSON.parse(decodeURIComponent(e.query)||"{}")}catch(t){e=JSON.parse(e.query||"{}")}else try{e=JSON.parse(decodeURIComponent(e.query||encodeURIComponent("{}")))}catch(t){e=JSON.parse(e.query)}return e},l=function(e=-1,t){const n=getCurrentPages(t);return-1===e?n:-2===e?n[n.length-1]:-3===e?n[n.length-2]:n[e]},h=function(e,t=r.a.Router.CONFIG.routes){const n=Object.keys(t);for(let o=0;o<n.length;o+=1){const c=t[n[o]];if(c.path==="/"+e)return Object(r.f)(c);if(c.path===e)return Object(r.f)(c);if(c.name==e)return Object(r.f)(c)}Object(c.a)(`当前 '${e}' 在路由表中没有找到匹配的 name 或者 path`)},f=function(e){const t=Object(o.b)(e.route),{rule:n}=e;return t.query=n.query||n.params||{},t},p=function(e){const t=l(-2),{page:n,query:r}=i(t,!1),o=h(n.route,e);return o.query=s(r),o},_=function(e,t){if(null==e)return Object(c.a)("当前跳转规则为空,请检查跳转代码");let[n,r,a]=["path",null,{}];if(e.constructor===String)r=h(e,t);else{if(e.constructor!==Object)return Object(c.a)("传的什么乱七八糟的类型?路由跳转规则只认字符串 'path' , 对象 'path' , 对象 'name' ");r=h(e.path||(n="name",e.name),t),a=e.query||e.params||{}}return{rule:e,route:r,uniRoute:Object(o.h)(r.path,a)}},d=function(e,t){let[n,r]=[{},""];const o=e[e.length-1];if(e.length>0){const e=i(o,!1).query;n=s(e,!0),r=o.route}else null!=t&&(n=s(t.$mp.page.options,!0),r=o.route);const c=h(r);return c.query=n,c}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u}));var r=n(9),o=n(4);var c=class extends Array{constructor(e,t,n){super(),this.Router=e,this.vueOldHooks=t,this.hookFun=n}push(e){this.vueOldHooks.splice(0,1,e),this[this.length]=(e,t,n)=>{this.hookFun(e,t,n,this.Router)}}};const a=function(e,t){const n=Object.create(null),o=Object.keys(t);for(let c=0;c<o.length;c+=1){const a=o[c];Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get(){const n=t[a];return"beforeEnter"==a&&void 0!==n?(t,o,c)=>{Object(r.b)(t,o,c,n,e)}:n},set(e){t[a]=e}})}return n},u=function(e,t,n){const r=o.c[t];return new c(e,r,n)}},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return b}));var r=n(0),o=n(5),c=n(10),a=n(1),u=n(2);const i=function(e,t){const{indexVue:n}=r.g,o=n[e];o.splice(o.length-1,1,t)},s=function(e){return new Promise(async t=>{const n=[],{appVue:c,onLaunch:a,onShow:u,waitHooks:s,variationFuns:l,indexCallHooks:h}=r.g,f=c.$options;if(await a.fun[a.fun.length-1].call(c,a.args),u.fun[u.fun.length-1].call(c,u.args),e)for(const e in s)h.includes(e)&&o.b.call(this,s[e].fun);a.isHijack&&f.onLaunch.splice(f.onLaunch.length-1,1,a.fun[0]),u.isHijack&&f.onShow.splice(f.onShow.length-1,1,u.fun[0]);for(const e in s){const t=s[e];t.isHijack&&(l.includes(e)?n.push({key:e,fun:t.fun[0]}):i(e,t.fun[0]))}t(n)})},l=function(){const{onLaunch:e,onShow:t}=this.$options;r.g.appVue=this,e.length>1&&(r.g.onLaunch.isHijack=!0,r.g.onLaunch.fun=e.splice(e.length-1,1,e=>{r.g.onLaunch.args=e})),t.length>0&&(r.g.onShow.isHijack=!0,r.g.onShow.fun=t.splice(t.length-1,1,e=>{r.g.onShow.args=e,r.g.pageReady&&o.b.call(this,r.g.onShow.fun,e)}))},h=function(e,t){return new Promise(async n=>{const r=this.lifeCycle.beforeHooks[0];if(null==r)return n();await r.call(this,t,e,n)})},f=function(e,t){const n=this.lifeCycle.afterHooks[0];null!=n&&n.constructor===Function&&n.call(this,t,e)},p=function(e,t,n){return new Promise(async r=>{const{beforeEnter:o}=e.route;if(null==o||o.constructor!==Function)return r();await o.call(this,n,t,r)})},_=async function(e,t,n){await this.lifeCycle.routerbeforeHooks[0].call(this);const r=Object(o.g)(e,this.CONFIG.routes),c=Object(o.c)(this.CONFIG.routes),a=Object(o.d)(r),u=await h.call(this,c,a);try{await O.call(this,u,t,n);const e=await p.call(this,r,c,a);await O.call(this,e,t,n)}catch(e){return!1}n&&n.call(this,r,t),f.call(this,c,a),await this.lifeCycle.routerAfterHooks[0].call(this)},d=function(e,t){const n=Object(o.f)().reverse()[e],{query:r,page:a}=Object(o.e)(n,!1);_.call(this,{path:a.route,query:r},"RouterBack",(e,n)=>{const r=e.uniRoute.url;if("/"+a.route==r||a.route==r)t();else{if("RouterBack"==n)return Object(u.c)("调用返回api被拦截到其他页面需要指定合理的 ‘NAVTYPE’ ");Object(c.a)(e,n)}})},g=function(e){const t=getCurrentPages()[0];if(null==t)return Object(u.c)("打扰了,当前一个页面也没有 这不是官方的bug是什么??");const{query:n,page:a}=Object(o.e)(t,!1);_.call(e,{path:a.route,query:n},"push",async(e,t)=>{let n=[];"/"+a.route==e.route.path||a.route==e.route.path?(r.g.pageReady=!0,await s.call(this,!0)):(n=await s.call(this,!1),await Object(c.a)(e,t)),r.g.pageReady=!0,function(e){for(let t=0;t<e.length;t+=1){const{key:n,fun:r}=e[t];i(n,r)}}(n)})},b=function(t){"mp-toutiao"==e.env.VUE_APP_PLATFORM&&(r.g.toutiaoIndexThis=this);const{needHooks:n,waitHooks:o}=r.g,c=this.$options;r.g.indexVue=c;for(let e=0;e<n.length;e+=1){const t=n[e];if(null!=c[t]){const{length:e}=c[t],n=o[t]={};n.fun=c[t].splice(e-1,1,a.g),n.isHijack=!0}}g.call(this,t)},O=function(e,t,n){return new Promise((r,o)=>null==e?r():!1===e?o(new Error("路由终止")):e.constructor===String?(o(new Error(1)),_.call(this,e,t,n)):e.constructor===Object?(o(new Error(1)),_.call(this,e,e.NAVTYPE||t,n)):void 0)}}).call(this,n(12))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return u}));const r=function(e){e()},o=function(e){e()},c=function(e){e()},a=function(e){e()},u=function(e){e()}},function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return O}));var r=n(2),o=n(3),c=n(1),a=n(4),u=n(0);let i=0,s=0,l=null,h=[];const f=new Promise(e=>l=e),p=function(){if(0==a.b.length)return Object(r.a)("检测到您未进行dom模型挂载操作，请调用api\r\n\r\n RouterMount(Vim: any, el: any): void");const{Vim:e,el:t}=a.b[0];let n=t;null==t&&(n="#app");try{e.$mount(n)}catch(e){Object(r.c)("挂载vue节点时错误啦"+e)}},_=function(e,t,n,r){const{CONFIG:a,selfRoutes:u}=r;if(a.h5.vueRouterDev)return n(t),t;if("object"==typeof t){const e=Reflect.get(t,"NAVTYPE");delete t.NAVTYPE,"push"==e?(t.replace=!1,t.type="navigateTo"):(t.replace=!0,t.type="reLaunch");const n=Reflect.get(t,"name");if(t.query=t.params||t.query,delete t.name,delete t.params,null==t.query&&(t.query={}),null!=n){const{aliasPath:e,path:r}=Object(o.g)(n,u);t.path=e||r}else{t.path=Reflect.get(t,"path");const e=Object(o.d)(t.path,u,a);if(null==e)return!1;t.path=e}if(a.encodeURI){const e=encodeURIComponent(JSON.stringify(t.query)),n=Object(c.d)(e);t.query={},""!=n&&(t.query.query=n)}}else null!=t&&t.constructor===String&&(t=Object(o.d)(t,u,a));let i=t;if(null!=t&&t.constructor!==Boolean){if(i=Object(o.h)(t),null!=i){null==Reflect.get(i,"type")&&(i.type="navigateTo")}}else!1===t&&r.lifeCycle.routerAfterHooks[0].call(r,{H5Intercept:!0});return n(i),t},d=function(e,t,n,r,c){return new Promise(async a=>{if(h.includes(e.path))return n(),a();if(h=[e.path],Reflect.get(c,"H5RouterReady")){const a=await new Promise(async n=>{const{toRoute:a,fromRoute:u}=Object(o.f)(e,t,c);await r(a,u,n)});_(0,a,n,c)}else n();a()})},g=async function(e,t,n,r){if(a.c.afterHooks[0](e,t),u.d.afterHooks[0]){0===s&&(await f,p());const{toRoute:n,fromRoute:c}=Object(o.f)(e,t,r);u.d.afterHooks[0](n,c)}else 0===s&&p();s+=1,r.lifeCycle.routerAfterHooks[0].call(r)},b=function(e,t,n,c){return new Promise(async s=>{await c.lifeCycle.routerbeforeHooks[0].call(c);const h=c.CONFIG.h5;a.c.beforeHooks[0](e,t,async a=>{if(null!=a&&!0===h.keepUniIntercept&&!1===h.vueRouterDev)return n(a),Object(r.c)("uni-app 内部强制触发跳转拦截"),i+=1,s();if(!u.d.beforeHooks[0])return n(),i+=1,l(),s();const f=await new Promise(async n=>{const{toRoute:r,fromRoute:a}=Object(o.f)(e,t,c);await u.d.beforeHooks[0](r,a,n)}),p=_(0,f,n,c);if(0==i&&null==p&&e.meta.isTabBar){const{selfRoutes:r}=c,o=Reflect.get(r["/"+e.meta.pagePath],"beforeEnter");o&&await d(e,t,n,o,c)}i+=1,l(),s()})})},O=function(e,t,n){let r=[];r=n?Object(o.i)(e.CONFIG.routes,e):Object(o.b)(e,t,e.CONFIG.h5.useUniConfig);const c=new t.constructor({base:t.options.base,mode:t.options.mode,routes:r});t.matcher=c.matcher,u.a.vueRouter=t,u.a.RouterReadyPromise(),e.H5RouterReady=!0,setTimeout(()=>{!function(e,t){const{CONFIG:n}=e,r=t.currentRoute;if("hash"===t.mode){const{query:e,path:c}=r,a=Object(o.c)(n,e,"hash");t.replace(`${c}${a}`)}else{const{toRoute:c}=Object(o.f)(r,r,e);let a=c.query;n.encodeURI&&(a=Object(o.c)(n,{query:JSON.stringify(c.query)},"history")),t.replace({path:c.aliasPath||c.path||r.path,query:a,type:"redirectTo"})}}(e,t)})}},function(e,t,n){"use strict";var r=n(0),o=n(1);t.a=function(e,t){return new Promise(n=>{const c=Object(o.d)("?"+e.uniRoute.query),{url:a}=e.uniRoute;uni[r.e[t]]({url:a+c,complete:()=>{n(a)}})})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var r=n(1),o=n(0);const c=function(e){let t={};if(e.query=e.query||{},o.a.Router.CONFIG.encodeURI){if(null==e.ONLAUNCH)try{t=JSON.parse(decodeURIComponent(e.query.query||encodeURIComponent("{}")))}catch(n){t=JSON.parse(e.query.query)}}else t=e.query;let n="",c="path";switch(Object(r.a)()){case"H5":n=e.page&&(c="aliasPath",e.page.$page.path||"/"+e.page.route);break;case"BAIDU":n="/"+e.page.pageinstance.route||"";break;default:n="/"+e.page.route||""}const a={};return a[c]=n,{route:a,ruleKey:c,query:t}},a=function(e){e.$mount()}},function(e,t){var n,r,o=e.exports={};function c(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===c||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:c}catch(e){n=c}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var i,s=[],l=!1,h=-1;function f(){l&&i&&(l=!1,i.length?s=i.concat(s):h=-1,s.length&&p())}function p(){if(!l){var e=u(f);l=!0;for(var t=s.length;t;){for(i=s,s=[];++h<t;)i&&i[h].run();h=-1,t=s.length}i=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function d(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new _(e,t)),1!==s.length||l||u(p)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.prependListener=d,o.prependOnceListener=d,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"RouterMount",(function(){return de}));var r=n(1),o=n(0),c=n(2);const a=function(e=[],t){for(let n=0;n<e.length;n+=1)e[n].call(this,t)},u=function(e=-1,t){const n=getCurrentPages(t);return-1===e?n:-2===e?n[n.length-1]:-3===e?n[n.length-2]:n[e]},i=function(e,t=!0){return t?e.$vm:e.$vm.$mp?e.$vm.$mp:function(e){return{s:!0,z:!1}[e.constructor.name]}(e)?{page:e,query:e.__displayReporter.query}:void 0},s=function(e,t=o.a.Router.CONFIG.routes){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const c=t[n[r]];if(c.path==="/"+e)return Object(o.f)(c);if(c.path===e)return Object(o.f)(c);if(c.name==e)return Object(o.f)(c)}Object(c.a)(`当前 '${e}' 在路由表中没有找到匹配的 name 或者 path`)},l=function(e={}){if(o.a.Router.CONFIG.encodeURI)try{e=JSON.parse(decodeURIComponent(e.query||encodeURIComponent("{}")))}catch(t){e=JSON.parse(e.query)}return e},h=function(e,t){let[n,r]=[{},""];const o=e[e.length-1];e.length>0?(n=l(o.options),r=o.route):null!=t&&(n=l(t.$mp.page.options),r=o.route);const c=s(r);return c.query=n,c},f=function(e){return new Promise(async t=>{const n=u(-2),{onBeforeBack:r}=n.$vm.$options;if(null!=r&&r.constructor===Function){if(!0===await r.call(n.$vm,e))return t(!1)}return t(!0)})},p=function(e){const t=e.$getAppWebview().getStyle();if(null!=t.titleNView&&t.titleNView.autoBackButton)return!0;const{$page:n}=e;return!(!n||!1!==n.meta.isQuit)};let _=null;const d=function(e,t){const{$holdTab:n,Router:r}=o.a;if(!1===r.CONFIG.APP.holdTabbar)return!1;let c=[];if(!__uniConfig.tabBar||!__uniConfig.tabBar.list)return!1;c=__uniConfig.tabBar.list;for(let e=0;e<c.length;e+=1){const{pagePath:r}=c[e];if(r==t+".html"||"/"+r==t+".html")return n.showHoldTab()}return!0===n.isVisible?n.hideHoldTab():void 0},g=function(e,t){const n=new Promise(n=>{const c=Object(r.d)("?"+e.uniRoute.query),{APP:a}=o.c,{url:u}=e.uniRoute;_=setTimeout(()=>{n(u),n=r.g},a.switchPageOutTime),uni[o.e[t]]({url:u+c,...e.route.animation,complete:()=>{clearTimeout(_),n(u),n=r.g}})});return n.then(e=>{d(0,e)}),n};let b=!1;const O=function(e){return new Promise(async t=>{const n=[],{appVue:r,indexVue:c,onLaunch:u,onShow:i,waitHooks:s,variationFuns:l,indexCallHooks:h}=o.g,f=r.$options;if(await u.fun[u.fun.length-1].call(r,u.args),i.fun[i.fun.length-1].call(r,i.args),e)for(const e in s)h.includes(e)&&a.call(this,s[e].fun);u.isHijack&&f.onLaunch.splice(f.onLaunch.length-1,1,u.fun[0]),i.isHijack&&f.onShow.splice(f.onShow.length-1,1,i.fun[0]);for(const e in s){const t=s[e];if(t.isHijack)if(l.includes(e))n.push({key:e,fun:t.fun[0]});else{const n=c[e];setTimeout(()=>{n.splice(n.length-1,1,t.fun[0])},50)}}t(n)})},y=function(){const{onLaunch:e,onShow:t}=this.$options;o.g.appVue=this,e.length>1&&(o.g.onLaunch.isHijack=!0,o.g.onLaunch.fun=e.splice(e.length-1,1,e=>{o.g.onLaunch.args=e})),t.length>0&&(o.g.onShow.isHijack=!0,o.g.onShow.fun=t.splice(t.length-1,1,e=>{o.g.onShow.args=e,o.g.pageReady&&a.call(this,o.g.onShow.fun,e)}))},m=function(e){const{needHooks:t,waitHooks:n}=o.g,c=this.$options;o.g.indexVue=c;for(let e=0;e<t.length;e+=1){const o=t[e];if(null!=c[o]){const{length:e}=c[o],t=n[o]={};t.fun=c[o].splice(e-1,1,r.g),t.isHijack=!0}}H.call(this,e)},P=function(e,t){return new Promise(async n=>{const r=this.lifeCycle.beforeHooks[0];if(null==r)return n();await r.call(this,t,e,n)})},R=function(e,t){const n=this.lifeCycle.afterHooks[0];null!=n&&n.constructor===Function&&n.call(this,t,e)},w=function(e,t,n){return new Promise(async r=>{const{beforeEnter:o}=e.route;if(null==o||o.constructor!==Function)return r();await o.call(this,n,t,r)})},j=function(e,t,n=1){const o=h([e]);v.call(this,{path:o.path,query:o.query},"RouterBack",()=>{if(b)return!1;b=!0,t.onBackPress=[r.g],setTimeout(()=>{this.back(n),b=!1,d(0,o.path)})})},T=async function(e,t){if(!1===await f(t))return!1;const n=u(-3);j.call(this,n,e)},k=async function(e,t){await f(t);const{backLayerC:n}=o.a,r=u();let c=null;c=n>r.length-1||n==r.length-1?r[0]:r[r.length-2],j.call(this,c,e,n)},E=function(e,t,n){return new Promise((r,o)=>null==e?r():!1===e?o(new Error("路由终止")):e.constructor===String?(o(new Error(1)),v.call(this,e,t,n)):e.constructor===Object?(o(new Error(1)),v.call(this,e,e.NAVTYPE||t,n)):void 0)},v=async function(e,t,n){await this.lifeCycle.routerbeforeHooks[0].call(this);const a=function(e,t){if(null==e)return Object(c.a)("当前跳转规则为空,请检查跳转代码");let[n,a,u,i]=["path",null,{},{}];if(e.constructor===String)a=s(e,t);else{if(e.constructor!==Object)return Object(c.a)("传的什么乱七八糟的类型?路由跳转规则只认字符串 'path' , 对象 'path' , 对象 'name' ");a=s(e.path||(n="name",e.name),t),u=e.query||e.params||{},i=e.animation||{}}return i={...o.a.Router.CONFIG.APP.animation,...a.animation||{},...i},a.animation=i,{rule:e,route:a,uniRoute:Object(r.h)(a.path,u)}}(e,this.CONFIG.routes),h=function(e){const t=u(-2),{page:n,query:r}=i(t,!1),o=s(n.route,e);return o.query=l(r),o}(this.CONFIG.routes),f=function(e){const t=Object(r.b)(e.route),{rule:n}=e;return t.query=n.query||n.params||{},t}(a),p=await P.call(this,h,f);try{await E.call(this,p,t,n);const e=await w.call(this,a,h,f);await E.call(this,e,t,n)}catch(e){return!1}n&&n.call(this,a,t),R.call(this,h,f),await this.lifeCycle.routerAfterHooks[0].call(this)},H=function(e){const t=getCurrentPages()[0];if(null==t)return Object(c.c)("打扰了,当前一个页面也没有 这不是官方的bug是什么??");const{query:n,page:r}=i(t,!1);v.call(e,{path:r.route,query:n},"push",async(e,t)=>{let n=[];"/"+r.route==e.route.path?(d(0,r.route),o.g.pageReady=!0,await O.call(this,!0)):(n=await O.call(this,!1),await g(e,t)),plus.nativeObj.View.getViewById("router-loadding").close(),function(e){for(let t=0;t<e.length;t+=1){const{key:n,fun:r}=e[t],c=o.g.indexVue[n];c.splice(c.length-1,1,r)}}(n),o.g.pageReady=!0})},C=function(e){v.call(this,{path:"/"+e,query:{}},"pushTab",(e,t)=>{g(e,t)})};var A=n(7),L=n(10),I=n(3);var q=function(e,t,n){if(null==this.$route)return Object(c.a)("h5端路由为就绪，请检查调用代码");t=Object(I.d)(t,this.selfRoutes,this.CONFIG);const r=Object(I.h)(t);r.type=n,this.$route[e](r)},x=n(8);const S=function({backLayer:e,delta:t,H5PATCH:n}){x.b(()=>{n.on("historyBack",{backLayer:e,delta:t})}),x.a(()=>{o.a.backLayerC=e,uni.navigateBack({delta:e})}),x.d(()=>{A.c.call(this,e,()=>{uni.navigateBack({delta:e})})})},N=function(e,t){switch(Object(r.a)(!0)){case"H5":return q.call(this,o.b[t],e,o.e[t]);case"APP":return v.call(this,e,t,g);case"APPLETS":return A.b.call(this,e,t,L.a);default:Object(c.a)("糟糕！！！还有其他的执行环境？？？没听说过啊。一脸懵逼？？？加QQ群问问：769241495")}};var D=function(e,t,n=!1){return n?S.call(this,e,t):N.call(this,e,t)},M=n(5);const $=function({tag:e,attrs:t,children:n}={}){const r=document.createElement(e);for(const[e,n]of Object.entries(t))r.setAttribute(e,n);for(const e of n)r.appendChild("string"==typeof(o=e)?document.createTextNode(o):o instanceof HTMLElement?o:$(o));var o;return r},U=$({tag:"div",attrs:{id:"router-loadding"},children:[$({tag:"div",attrs:{class:"loadding"},children:[]})]}),B={style:$({tag:"style",attrs:{id:"HHYANG_style"},children:["\n\t\tbody{padding:0;margin:0}#router-loadding{position:fixed;width:100%;height:3px;transition:all .05s;top:0;z-index:9999999999999999;}#router-loadding .loadding{position:fixed;top:0;height:3px;background-color:#47b14b;width:0;box-shadow:0 0 15px #4CAF50;transition:all .8s;border-top-right-radius:3px;border-bottom-right-radius:3px}\n\t\t"]}),html:U,script:$({tag:"script",attrs:{id:"HHYANG_script"},children:['\n\t\tvar HHYANG_El=document.querySelector("#router-loadding .loadding"),HHYANG_Pel=document.querySelector("#router-loadding"),w=0,stop=null,WH=window.innerWidth,loop=function(){w=w>=WH-35?w+parseInt(5*Math.random()):w+parseInt(35*Math.random());HHYANG_El.style.cssText="width:"+w+"px";w>=WH&&clearInterval(stop)};window.startLodding=function(a){a=void 0===a?500:a;HHYANG_Pel.style.cssText="display: block;";HHYANG_El.style.cssText="transition: all 0.8s;";w=0;clearInterval(stop);stop=setInterval(function(){loop()},a)};window.stopLodding=function(a){a=void 0===a?200:a;clearInterval(stop);HHYANG_El.style.cssText="width:"+WH+"px;transition: all "+a/1E3+"s;";HHYANG_Pel.style.cssText="opacity: 0;transition: all "+a/1E3+"s;";setTimeout(function(){HHYANG_Pel.style.cssText="display: none;";HHYANG_El.style.cssText="width:0px";w=0},a)};\n\t\t']})};var F=n(9),G=n(6);var K=function(e,t){const n=e.CONFIG.h5;t.afterHooks=Object(G.b)(e,"afterHooks",F.a),t.beforeHooks=Object(G.b)(e,"beforeHooks",F.c);const r=Object(I.e)(t.options.routes,!1,{}),o=Object(I.e)(e.CONFIG.routes,!0,n);e.vueRoutes=r,e.selfRoutes={...e.selfRoutes||{},...o},e.$route=t,function(e){if(!1===e.CONFIG.h5.rewriteFun)return!1;uni.reLaunch=function({url:t}){if("/"===t)return Object(c.c)("H5端 uni.reLaunch('/')时 默认被重写了! 你可以使用 this.$Router.replaceAll() 或者 uni.reLaunch('/'?xxx)"),history.length>1?e.back():e.replaceAll("/");const n=t.match(/^[^?]+|(\/)/)[0];try{const r={};t.replace(/([^?&]+)=([^?&]+)/g,(e,t,n)=>(r[t]=decodeURIComponent(n),`${n}=${t}`)),e.replaceAll({path:n,query:r})}catch(e){Object(c.a)(t+"解析失败了....  试试 this.$Router.replaceAll() 吧")}},uni.navigateBack=function(t){let n=t;t.constructor===Object&&(n=1),e.back(n,t)}}(e),Object(F.d)(e,t,n.vueRouterDev)};var W=class{constructor(e){this.H5=e,this.isLoading=!0,this.loadingCount=0}on(e,t,n){if(this.H5)return this[e](t);n&&n()}registerHook(e,t,n){K(e,t,n)}historyBack({backLayer:e,delta:t={from:"navigateBack"}}={}){const n=getCurrentPages(),r=n[n.length-1],{onBackPress:o}=r.$options;if(null!=o&&o.constructor===Array){if(o[o.length-1].call(r,t))return!0}history.go(-e)}appendHTML({style:e,html:t,script:n}){window.addEventListener("DOMContentLoaded",()=>{const r=document.querySelector("body");r.appendChild(e),r.appendChild(t),r.appendChild(n),this.toogle("startLodding",!0)})}toogle(e,t=!1){if(t&&0!==this.loadingCount)return this.loadingCount+=1,!1;try{this.loadingCount+=1,this.isLoading&&window[e]()}catch(e){Object(c.c)("你使用了 addRoutes API 提前进行了生命周期 并触发了startLodding")}}async setLoadingStatus({loading:e,replaceStyle:t,resetStyle:n}){if(this.isLoading=e,e){const e=n(),r=Object.keys(e);for(let n=0;n<r.length;n+=1){const o=r[n];let c=e[o];"style"!==o||t||(c=B[o].innerHTML+c),B[o].innerHTML=c}this.appendHTML(B)}}};const V=new W(Object(r.e)()),Y=function(e,t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},J=function(){Y(this.lifeCycle.routerbeforeHooks,(function(){return new Promise(async e=>(this.CONFIG.routerBeforeEach(),"H5"===Object(r.a)(!0)&&V.on("toogle","startLodding"),e(!0)))})),Y(this.lifeCycle.routerAfterHooks,(function(e={}){return!0!==e.H5Intercept&&this.CONFIG.routerAfterEach(),"H5"===Object(r.a)(!0)&&V.on("toogle","stopLodding"),!0}))};var Q=n(4),z=n(11);var X=function(e){e.$mount()};const Z={dbClick:"doubleclick",click:"click",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend"},ee={registerPageHook:!1,id:"HoldTabbar",style:{width:"100%",height:"50px",opacity:0,bottom:"0"},event:{},beforeMount:()=>{},mounted:()=>{}},te=function(e){const t=getCurrentPages();if(null==e)return t[0];for(let n=0;n<t.length;n++){const r=t[n];if(r.route===e)return r}return!1},ne=function(e,{pageX:t},n,r,o){const{length:c}=n,a=(plus.screen.resolutionWidth/c).toFixed(4),u=Math.ceil(t.toFixed(4)/a)-1,i=n[u],{route:s}=te();s!=i.pagePath?r(u,i,()=>{re(e,o,i)}):(r(u,i,()=>{}),re(e,o,i))},re=function(e,t,n){if(t){const t=te(n.pagePath);if(t){const r=t.$vm.$options.onTabEvent;r&&r.call(t.$vm,e,n)}}},oe=function({id:e,style:t,beforeMount:n,mounted:r,event:o,registerPageHook:c}={},a){const u=new plus.nativeObj.View(e,t);if(!n(u,a))return function(e,t,n,r){for(let o in e){const c=e[o],a=Z[o];t.addEventListener(a,e=>{ne(a,e,n,c,r)})}}(o,u,a,c),r(u,a),u.show(),u};var ce=class{constructor(e={}){const t=function(){if(__uniConfig.tabBar&&__uniConfig.tabBar.list&&__uniConfig.tabBar.list.length>0){const e=JSON.parse(JSON.stringify(__uniConfig.tabBar.list));for(let t=0;t<e.length;t++)e[t].pagePath=e[t].pagePath.replace(/\.html$/,"");return e}return console.error("当前没有uni-app自带的原生tabbar 无须进行拦截  告辞!!"),!1}();if(!t)return!1;e=function(e){const t={};for(let n in ee){const r=ee[n];null==e[n]?t[n]=r:e[n].constructor===Object?t[n]={...r,...e[n]}:t[n]=e[n]}return t}(e),this.tabbarView=function(e,t){return oe(e,t)}(e,t)}get getTabbarView(){return this.tabbarView}get isVisible(){return this.tabbarView.isVisible()}hideHoldTab(){this.tabbarView.hide()}showHoldTab(){this.tabbarView.show()}};const ae=function(e){const{holdTabbarStyle:t}=e.CONFIG.APP,n=new ce({style:t.call(e),event:{click:(t,{pagePath:n})=>{C.call(e,n)}}});o.a.$holdTab=n},ue=function(e,t,n){const r=u(-2),{complete:c}=e;e.complete=c?function(e){t&&t("pageShow",r.route),c.call(r.$vm,e)}:function(){t&&t("pageShow",r.route)},o.a.$holdTab.isVisible&&o.a.$holdTab.hideHoldTab(),n&&n(e)},ie=function(e,t,n){if("navigateBack"==n[0].from)return k.call(this,t,n),!0;return!!p(e)&&(T.call(this,t,n),!0)},se=function(e){y.call(this);const{holdTabbar:t,rewriteFun:n}=e.CONFIG.APP;t&&(!function(e){if(!1===e)return!1;const t=uni.chooseLocation,n=uni.openLocation;uni.chooseLocation=function(e){ue(e,d,t)},uni.openLocation=function(e){ue(e,()=>{const e=plus.webview.all();e[e.length-1].addEventListener("close",()=>{const e=u(-2);d(0,e.route)},!1)},n)}}(n),ae(e)),function(e){const{loddingPageHook:t,loddingPageStyle:n}=e.CONFIG.APP,r=new plus.nativeObj.View("router-loadding",{top:"0px",left:"0px",height:"100%",width:"100%",...n.call(e)});t.call(e,r),r.show()}(e)};var le=function(){A.d.call(this)};const he=function(e){return{H5:{beforeCreate(){this.$options.router&&K(e.$root,this.$options.router,this)}},APP:{onLaunch(){o.g.onLaunched=!0,se.call(this,e.$root)},onLoad(){var t,n;o.g.onLaunched&&!o.g.pageReady&&(o.g.onLaunched=!1,m.call(this,e.$root)),t=this.$mp.page,n=this.$options,p(t)&&(n.onBackPress=[n.onBackPress[0]])},onBackPress(...t){return ie.call(e.$root,this.$mp.page,this.$options,t)}},APPLETS:{onLaunch(){o.g.onLaunched=!0,le.call(this,e.$root)},onLoad(){o.g.onLaunched&&!o.g.pageReady&&(o.g.onLaunched=!1,A.a.call(this,e.$root))}}}};var fe=function(e,t){e.mixin({...he(t)[Object(r.a)(!0)]})};let pe=null;pe=new W(Object(r.e)()),o.a.H5RouterReady=new Promise(e=>o.a.RouterReadyPromise=e);class _e{constructor(e){_e.$root=this,o.a.Router=this,this.CONFIG=Object(r.c)(e),this.lifeCycle=o.d,J.call(this),"H5"===Object(r.a)()&&pe.setLoadingStatus(this.CONFIG.h5)}get $Route(){return this.getPageRoute()}get $holdTab(){return o.a.$holdTab}push(e){D.call(this,e,"push")}replace(e){D.call(this,e,"replace")}replaceAll(e){D.call(this,e,"replaceAll")}pushTab(e){D.call(this,e,"pushTab")}back(e=1,t){if(e.constructor!=Number)return Object(c.a)("返回层级参数必须是一个Number类型且必须大于1："+e);D.call(this,{backLayer:e,delta:t,H5PATCH:pe},"back",!0)}getPageRoute(e){const t=getCurrentPages();switch(Object(r.a)(!0)){case"H5":return I.a.call(this,t,e);case"APP":return h(t,e);case"APPLETS":return Object(M.a)(t,e)}}beforeEach(e){return Y(this.lifeCycle.beforeHooks,e)}afterEach(e){return Y(this.lifeCycle.afterHooks,e)}}_e.install=function(e){fe(e,_e),Object.defineProperty(e.prototype,"$Router",{get:()=>_e.$root}),Object.defineProperty(e.prototype,"$Route",{get(){return _e.$root.getPageRoute(this)}})};t.default=_e;const de=function(e,t){switch(Object(r.a)(!0)){case"APP":X(e,t);break;case"APPLETS":Object(z.a)(e,t);break;case"H5":Q.b.push({Vim:e,el:t});break;default:Object(c.c)("糟糕！！！还有其他的执行环境？？？没听说过啊。一脸懵逼？？？加QQ群问问：769241495")}}}]);