!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Router=t():e.Router=t()}(self,(function(){return e={779:(e,t,r)=>{var o=r(173);e.exports=function e(t,r,n){return o(r)||(n=r||n,r=[]),n=n||{},t instanceof RegExp?function(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var o=0;o<r.length;o++)t.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return p(e,t)}(t,r):o(t)?function(t,r,o){for(var n=[],a=0;a<t.length;a++)n.push(e(t[a],r,o).source);return p(new RegExp("(?:"+n.join("|")+")",c(o)),r)}(t,r,n):function(e,t,r){return f(a(e,r),t,r)}(t,r,n)},e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=f;var n=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var r,o=[],a=0,i=0,u="",p=t&&t.delimiter||"/";null!=(r=n.exec(e));){var c=r[0],f=r[1],h=r.index;if(u+=e.slice(i,h),i=h+c.length,f)u+=f[1];else{var y=e[i],v=r[2],g=r[3],b=r[4],d=r[5],m=r[6],O=r[7];u&&(o.push(u),u="");var P=null!=v&&null!=y&&y!==v,j="+"===m||"*"===m,R="?"===m||"*"===m,k=r[2]||p,M=b||d;o.push({name:g||a++,prefix:v||"",delimiter:k,optional:R,repeat:j,partial:P,asterisk:!!O,pattern:M?s(M):O?".*":"[^"+l(k)+"]+?"})}}return i<e.length&&(u+=e.substr(i)),u&&o.push(u),o}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(r[n]=new RegExp("^(?:"+e[n].pattern+")$",c(t)));return function(t,n){for(var a="",u=t||{},l=(n||{}).pretty?i:encodeURIComponent,s=0;s<e.length;s++){var p=e[s];if("string"!=typeof p){var c,f=u[p.name];if(null==f){if(p.optional){p.partial&&(a+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(o(f)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var h=0;h<f.length;h++){if(c=l(f[h]),!r[s].test(c))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(c)+"`");a+=(0===h?p.prefix:p.delimiter)+c}}else{if(c=p.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(f),!r[s].test(c))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+c+'"');a+=p.prefix+c}}else a+=p}return a}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function p(e,t){return e.keys=t,e}function c(e){return e&&e.sensitive?"":"i"}function f(e,t,r){o(t)||(r=t||r,t=[]);for(var n=(r=r||{}).strict,a=!1!==r.end,i="",u=0;u<e.length;u++){var s=e[u];if("string"==typeof s)i+=l(s);else{var f=l(s.prefix),h="(?:"+s.pattern+")";t.push(s),s.repeat&&(h+="(?:"+f+h+")*"),i+=h=s.optional?s.partial?f+"("+h+")?":"(?:"+f+"("+h+"))?":f+"("+h+")"}}var y=l(r.delimiter||"/"),v=i.slice(-y.length)===y;return n||(i=(v?i.slice(0,-y.length):i)+"(?:"+y+"(?=$))?"),i+=a?"$":n&&v?"":"(?="+y+"|$)",p(new RegExp("^"+i,c(r)),t)}},173:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},844:function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildVueRouter=t.buildVueRoutes=void 0;var n=r(366),a=r(883),i=r(789),u=r(169);t.buildVueRoutes=function(e,t){for(var r=e.routesMap,o=r.pathMap,l=r.finallyPathList,s=Object.keys(t),p=0;p<s.length;p++){var c=s[p],f=o[c],h=t[c];if(f){var y=i.getRoutePath(f).finallyPath;if(y instanceof Array)throw new Error("非 vueRouterDev 模式下，alias、aliasPath、path 无法提供数组类型！ "+JSON.stringify(f));null!=f.name&&(h.name=f.name);var v=h.path,g=h.alias;delete h.alias,h.path=y,"/"===v&&null!=g&&(h.alias=g,h.path=v),f.beforeEnter&&(h.beforeEnter=function(t,r,o){u.onTriggerEachHook(t,r,e,n.hookToggle.enterHooks,o)})}else a.warn(c+" 路由地址在路由表中未找到，确定是否传递漏啦",e,!0)}return l.includes("*")&&(t["*"]=o["*"]),t},t.buildVueRouter=function(e,t,r){var n;n="[object Array]"===i.getDataType(r)?r:Object.values(r);var a=e.options.h5,u=a.scrollBehavior,l=a.fallback,s=t.options.scrollBehavior;t.options.scrollBehavior=function(e,t,r){return s&&s(e,t,r),u(e,t,r)},t.fallback=l;var p=new t.constructor(o(o({},e.options.h5),{base:t.options.base,mode:t.options.mode,routes:n}));t.matcher=p.matcher}},147:function(e,t){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0}),t.proxyH5Mount=t.proxyEachHook=t.MyArray=void 0;var n=function(e){function t(r,o,n){var a=e.call(this)||this;return a.router=r,a.vueEachArray=o,a.myEachHook=n,Object.setPrototypeOf(a,t.prototype),a}return o(t,e),t.prototype.push=function(e){var t=this;this.vueEachArray.splice(0,1,e),this[this.length]=function(e,r,o){t.myEachHook(e,r,(function(n){t.vueEachArray[0](e,r,(function(e){o(n)}))}),t.router,!0)}},t}(Array);t.MyArray=n,t.proxyEachHook=function(e,t){for(var r=["beforeHooks","afterHooks"],o=0;o<r.length;o++){var a=r[o],i=e.lifeCycle[a][0];if(i){var u=t[a];t[a]=new n(e,u,i)}}},t.proxyH5Mount=function(e,t){var r=t.$route;r.replace({path:r.currentRoute.fullPath},(function(t){e.$mount()}),(function(e){console.log(e)}))}},282:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lifeCycle=t.baseConfig=t.mpPlatformReg=void 0;var o=r(883);t.mpPlatformReg=/(^mp-weixin$)|(^mp-baidu$)|(^mp-alipay$)|(^mp-toutiao$)|(^mp-qq$)|(^mp-360$)/g,t.baseConfig={h5:{paramsToQuery:!1,vueRouterDev:!1,vueNext:!1,mode:"hash",base:"/",linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",scrollBehavior:function(e,t,r){return{x:0,y:0}},fallback:!0},APP:{holdTabbar:!0,loddingPageStyle:function(){return JSON.parse('{"backgroundColor":"#FFF"}')},loddingPageHook:function(e){plus.navigator.closeSplashscreen(),e.show()},animation:{animationType:"pop-in",animationDuration:300}},platform:"h5",keepUniOriginNav:!1,debugger:!1,routerBeforeEach:function(e,t,r){r()},routerAfterEach:function(e,t){},routerErrorEach:function(e,t){o.err(e,t,!0)},routes:[{path:"/choose-location"},{path:"/open-location"},{path:"/preview-image"}]},t.lifeCycle={beforeHooks:[],afterHooks:[],routerBeforeHooks:[],routerAfterHooks:[],routerErrorHooks:[]}},801:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRouteMap=void 0;var o=r(883),n=r(789);t.createRouteMap=function(e,t){var r={finallyPathList:[],finallyPathMap:Object.create(null),aliasPathMap:Object.create(null),pathMap:Object.create(null),vueRouteMap:Object.create(null),nameMap:Object.create(null)};return t.forEach((function(t){var a=n.getRoutePath(t),i=a.finallyPath,u=a.aliasPath,l=a.path;if(null==l)throw new Error("请提供一个完整的路由对象，包括以绝对路径开始的 ‘path’ 字符串 "+JSON.stringify(t));if(i instanceof Array&&!e.options.h5.vueRouterDev&&"h5"===e.options.platform)throw new Error("非 vueRouterDev 模式下，route.alias 目前无法提供数组类型！ "+JSON.stringify(t));var s=i,p=u;"h5"!==e.options.platform&&0!==s.indexOf("/")&&"*"!==l&&o.warn("当前路由对象下，route："+JSON.stringify(t)+" 是否缺少了前缀 ‘/’",e,!0),r.finallyPathMap[s]||(r.finallyPathMap[s]=t,r.aliasPathMap[p]=t,r.pathMap[l]=t,r.finallyPathList.push(s),null!=t.name&&(r.nameMap[t.name]=t))})),r}},662:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerEachHooks=t.registerRouterHooks=t.registerHook=void 0;var o=r(366),n=r(169);function a(e,t){return e.push(t),function(){var r=e.indexOf(t);r>0&&e.splice(r,1)}}t.registerHook=a,t.registerRouterHooks=function(e,t){return a(e.routerBeforeHooks,(function(e,r,o){t.routerBeforeEach(e,r,o)}))(),a(e.routerAfterHooks,(function(e,r){t.routerAfterEach(e,r)}))(),a(e.routerErrorHooks,(function(e,r){t.routerErrorEach(e,r)}))(),e},t.registerEachHooks=function(e,t,r){a(e.lifeCycle[t],(function(e,a,i,u,l){l?n.onTriggerEachHook(e,a,u,o.hookToggle[t],i):r(e,a,i)}))}},460:function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.initMixins=t.getMixins=void 0;var n=r(801),a=r(844),i=r(147),u=r(282);function l(e){var t=e.options.platform;return u.mpPlatformReg.test(t)&&(t="app-lets"),{h5:{beforeCreate:function(){var t;if(this.$options.router){e.$route=this.$options.router;var r=[];(null===(t=e.options.h5)||void 0===t?void 0:t.vueRouterDev)?r=e.options.routes:(r=n.createRouteMap(e,this.$options.router.options.routes).finallyPathMap,e.routesMap.vueRouteMap=r,a.buildVueRoutes(e,r)),a.buildVueRouter(e,this.$options.router,r),i.proxyEachHook(e,this.$options.router)}}},"app-plus":{beforeCreate:function(){console.log("beforeCreate---app")},onLoad:function(){console.log("onLoad---app")}},"app-lets":{onLaunch:function(){console.log("beforeCreate----app-lets")}}}[t]}t.getMixins=l,t.initMixins=function(e,t){var r=n.createRouteMap(t,t.options.routes);t.routesMap=r,e.mixin(o({},l(t)))}},789:function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,u=a.length;i<u;i++,n++)o[n]=a[i];return o};Object.defineProperty(t,"__esModule",{value:!0}),t.assertDeepObject=t.paramsToQuery=t.forMatNextToFrom=t.urlToJson=t.getUniCachePage=t.copyData=t.getDataType=t.routesForMapRoute=t.assertNewOptions=t.getRoutePath=t.mergeConfig=t.voidFun=void 0;var a=r(282),i=r(169),u=r(883),l=r(99),s=r(779);function p(e,t){for(var r=Object.create(null),a=Object.keys(e).concat(["resolveQuery","parseQuery"]),i=0;i<a.length;i+=1){var u=a[i];null!=t[u]?t[u].constructor===Object?r[u]=o(o({},e[u]),t[u]):r[u]="routes"===u?n(e[u],t[u]):t[u]:r[u]=e[u]}return r}function c(e){return{finallyPath:e.aliasPath||e.alias||e.path,aliasPath:e.aliasPath||e.path,path:e.path,alias:e.alias}}function f(e,t,r){var o;if(null===(o=e.options.h5)||void 0===o?void 0:o.vueRouterDev)return{path:t};for(var n=e.routesMap,a=0;a<r.length;a++)for(var i=n[r[a]],u=0,l=Object.entries(i);u<l.length;u++){var p=l[u],c=p[0],f=p[1],y=c;if("[object Array]"===h(i)&&(y=f),null!=s(y).exec(t))return"[object String]"===h(f)?n.finallyPathMap[f]:f}throw new Error(t+" 路径无法在路由表中找到！检查跳转路径及路由表")}function h(e){return Object.prototype.toString.call(e)}function y(e){return JSON.parse(JSON.stringify(e))}t.voidFun=function(){},t.mergeConfig=p,t.getRoutePath=c,t.assertNewOptions=function(e){var t,r=e.platform,o=e.routes;if(null==r)throw new Error("你在实例化路由时必须传递 'platform'");if(null==o||0===o.length)throw new Error("你在实例化路由时必须传递 routes 为空，这是无意义的。");return"h5"===e.platform&&(null===(t=e.h5)||void 0===t?void 0:t.vueRouterDev)&&(a.baseConfig.routes=[]),p(a.baseConfig,e)},t.routesForMapRoute=f,t.getDataType=h,t.copyData=y,t.getUniCachePage=function(e){var t=getCurrentPages();return null==e?t:t.reverse()[e]},t.urlToJson=function(e){var t={},r=e.split("?"),o=r[0],n=r[1];if(null!=n)for(var a=0,i=n.split("&");a<i.length;a++){var u=i[a].split("=");t[u[0]]=u[1]}return{path:o,query:t}},t.forMatNextToFrom=function(e,t,r){var n=[t,r],a=n[0],i=n[1];if("h5"===e.options.platform){var u=e.options.h5,s=u.vueNext,p=u.vueRouterDev;if(!s&&!p){var c=f(e,a.path,["finallyPathMap","pathMap"]),h=f(e,i.path,["finallyPathMap","pathMap"]),v=y(a.params),g=y(i.params);delete v.__id__,delete g.__id__;var b=l.parseQuery(o(o({},v),y(a.query)),e),d=l.parseQuery(o(o({},g),y(i.query)),e);a=o(o({},c),{fullPath:a.fullPath,params:{},query:b}),i=o(o({},h),{fullPath:i.fullPath,params:{},query:d})}}else a=y(a),i=y(i);return{matTo:a,matFrom:i}},t.paramsToQuery=function(e,t){if("h5"!==e.options.platform)return t;if(!e.options.h5.paramsToQuery)return t;if("[object Object]"===h(t)){var r=t,o=r.name,n=r.params;if(null!=o&&null!=n){var a=e.routesMap.nameMap[o];null==a&&i.ERRORHOOK[0]({type:2,msg:"命名路由为："+o+" 的路由，无法在路由表中找到！",toRule:t},e);var u=c(a).finallyPath;if(!u.includes(":"))return{path:u,query:n};i.ERRORHOOK[0]({type:2,msg:"动态路由："+u+" 无法使用 paramsToQuery！",toRule:t},e)}}return t},t.assertDeepObject=function(e){var t=null;try{t=JSON.stringify(e).match(/\{|\[|\}|\]/g)}catch(e){u.warnLock("传递的参数解析对象失败。"+e)}return null!=t&&t.length>3}},883:(e,t)=>{"use strict";function r(e,t,r,o){if(void 0===o&&(o=!1),!o){var n="[object Object]"===t.toString();if(!1===t)return!1;if(n&&!1===t[e])return!1}return console[e](r),!0}Object.defineProperty(t,"__esModule",{value:!0}),t.warnLock=t.log=t.warn=t.err=t.isLog=void 0,t.isLog=r,t.err=function(e,t,o){r("error",t.options.debugger,e,o)},t.warn=function(e,t,o){r("warn",t.options.debugger,e,o)},t.log=function(e,t,o){r("log",t.options.debugger,e,o)},t.warnLock=function(e){console.warn(e)}},607:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRouter=t.RouterMount=void 0;var o=r(282),n=r(789),a=r(662),i=r(460),u=r(890),l=r(147),s=r(314);t.createRouter=function(e){var t=n.assertNewOptions(e),r={options:t,mount:[],$route:null,routesMap:{},lifeCycle:a.registerRouterHooks(o.lifeCycle,t),push:function(e){u.navjump(e,r,"push")},replace:function(e){u.navjump(e,r,"replace")},replaceAll:function(e){u.navjump(e,r,"replaceAll")},pushTab:function(e){u.navjump(e,r,"pushTab")},back:function(e,t){void 0===e&&(e=1),u.navBack(this,e,t)},preloadPage:function(e){},beforeEach:function(e){a.registerEachHooks(r,"beforeHooks",e)},afterEach:function(e){a.registerEachHooks(r,"afterHooks",e)},install:function(e){s.rewriteMethod(this),i.initMixins(e,this),Object.defineProperty(e.prototype,"$Router",{get:function(){return r}}),Object.defineProperty(e.prototype,"$Route",{get:function(){return u.createRoute(r)}})}};return r},t.RouterMount=function(e,t,r){if(void 0===r&&(r="#app"),"[object Array]"!==n.getDataType(t.mount))throw new Error("挂载路由失败，router.app 应该为数组类型。当前类型："+typeof t.mount);switch(t.mount.push({app:e,el:r}),t.options.platform){case"h5":l.proxyH5Mount(e,t);break;default:console.warn("其他端还没实现"),e.$mount()}}},366:(e,t)=>{"use strict";var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.rewriteMethodToggle=t.hookToggle=void 0,(o=t.hookToggle||(t.hookToggle={})).beforeHooks="beforeEach",o.afterHooks="afterEach",o.enterHooks="beforeEnter",(r=t.rewriteMethodToggle||(t.rewriteMethodToggle={})).navigateTo="push",r.redirectTo="replace",r.reLaunch="replaceAll",r.switchTab="pushTab",r.navigateBack="back",r.preloadPage="preloadPage"},169:function(e,t,r){"use strict";var o=this&&this.__rest||function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.loopCallHook=t.transitionTo=t.onTriggerEachHook=t.callHook=t.HOOKLIST=t.ERRORHOOK=void 0;var n=r(789),a=r(890);function i(e,t,r,o,n){return void 0===n&&(n=!0),new Promise((function(a){null!=e&&e instanceof Function?!0===n?e(t,r,a,o,!1):(e(t,r,(function(){}),o,!1),a()):a()}))}function u(e,t,r,o,n,a){l(n,0,a,e,t,r,o)}function l(e,r,i,u,s,p,c){var f=n.routesForMapRoute(u,s.path,["finallyPathMap","pathMap"]);if(e.length-1<r)return i();var h=e[r],y=t.ERRORHOOK[0],v=n.forMatNextToFrom(u,s,p),g=v.matTo,b=v.matFrom;h(u,g,b,f).then((function(t){if(!1===t)y({type:0,msg:"管道函数传递 false 导航被终止!",matTo:g,matFrom:b,nextTo:t},u);else if("string"==typeof t||"object"==typeof t){var n=c,f=t;if("object"==typeof t){var h=t.NAVTYPE;f=o(t,["NAVTYPE"]),null!=h&&(n=h)}a.navjump(f,u,n,{from:p,next:i})}else null==t?(r++,l(e,r,i,u,s,p,c)):y({type:1,msg:"管道函数传递未知类型，无法被识别。导航被终止！",matTo:g,matFrom:b,nextTo:t},u)}))}t.ERRORHOOK=[function(e,t){return t.lifeCycle.routerErrorHooks[0](e,t)}],t.HOOKLIST=[function(e,t,r,o){return i(e.lifeCycle.routerBeforeHooks[0],t,r,e)},function(e,t,r,o){var a,u=getCurrentPages(),l=u[u.length-1];if(null!=l){var s=l.$options.beforeRouteLeave;"[object Array]"===n.getDataType(s)&&(a=(a=s[0]).bind(l))}return i(a,t,r,e)},function(e,t,r,o){return i(e.lifeCycle.beforeHooks[0],t,r,e)},function(e,t,r,o){return i(o.beforeEnter,t,r,e)},function(e,t,r,o){return i(e.lifeCycle.afterHooks[0],t,r,e,!1)},function(e,t,r,o){return i(e.lifeCycle.routerAfterHooks[0],t,r,e,!1)}],t.callHook=i,t.onTriggerEachHook=function(e,r,o,n,a){var i=[];switch(n){case"beforeEach":i=t.HOOKLIST.slice(0,3);break;case"afterEach":i=t.HOOKLIST.slice(4);break;case"beforeEnter":i=t.HOOKLIST.slice(3,4)}u(o,e,r,"push",i,a)},t.transitionTo=u,t.loopCallHook=l},890:function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createRoute=t.navBack=t.navjump=void 0;var n=r(366),a=r(99),i=r(789);t.navjump=function(e,t,r,n){var u=a.queryPageToMap(e,t).rule,l=i.paramsToQuery(t,u),s=a.resolveQuery(l,t);"h5"===t.options.platform?("push"!==r&&(r="replace"),null!=n?n.next(o({replace:"push"!==r},s)):t.$route[r](s,s.success||i.voidFun,s.fail||i.voidFun)):console.log("非h5端跳转TODO")},t.navBack=function(e,t,r){"h5"===e.options.platform?e.$route.go(-t):console.log("非h5端返回TODO")},t.createRoute=function(e){var t={name:"",meta:{},path:"",fullPath:"",NAVTYPE:"",query:{},params:{}};switch(e.options.platform){case"h5":var r=e.$route.currentRoute;t.path=r.path,t.fullPath=r.fullPath,t.query=r.query,t.NAVTYPE=r.type;break;case"app-plus":var u=i.getUniCachePage(0),l=u.$page.openType;t.query=u.options,t.path=u.$page.path,t.fullPath=u.$page.fullPath,t.NAVTYPE=n.rewriteMethodToggle[l]}var s=i.routesForMapRoute(e,t.path,["finallyPathMap","pathMap"]),p=o(o({},t),s);return p.query=a.parseQuery(p.query,e),p}},99:function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.parseQuery=t.resolveQuery=t.queryPageToMap=void 0;var n=r(789),a=r(169),i=r(883);t.queryPageToMap=function(e,t){var r={},i="",u=e.success,l=e.fail;if("[object Object]"===n.getDataType(e)){var s=e;if(null!=s.path){var p=n.urlToJson(s.path),c=p.path,f=p.query;i=n.routesForMapRoute(t,c,["finallyPathList","pathMap"]),r=o(o({},f),e.query||{}),delete e.params}else null!=s.name?null==(i=t.routesMap.nameMap[s.name])?a.ERRORHOOK[0]({type:2,msg:"命名路由为："+s.name+" 的路由，无法在路由表中找到！",toRule:e},t):(r=e.params||{},delete e.query):a.ERRORHOOK[0]({type:2,msg:e+" 解析失败，请检测当前路由表下是否有包含。",toRule:e},t)}else e=n.urlToJson(e),i=n.routesForMapRoute(t,e.path,["finallyPathList","pathMap"]),r=e.query;if("h5"===t.options.platform){n.getRoutePath(i).finallyPath.includes(":")&&null==e.name&&a.ERRORHOOK[0]({type:2,msg:"当有设置 alias或者aliasPath 为动态路由时，不允许使用 path 跳转。请使用 name 跳转！",route:i},t);var h=e.complete,y=e.success,v=e.fail;if("[object Function]"===n.getDataType(h)){var g=function(e,t){"[object Function]"===n.getDataType(t)&&t.apply(this,e),h.apply(this,e)};u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];g.call(this,e,y)},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];g.call(this,e,v)}}}else console.log("这是非h端 需要做的 TODO");var b=e;return"[object Function]"===n.getDataType(b.success)&&(b.success=u),"[object Function]"===n.getDataType(b.fail)&&(b.fail=l),{rule:b,route:i,query:r}},t.resolveQuery=function(e,t){var r="query";null!=e.params&&(r="params"),null!=e.query&&(r="query");var o=n.copyData(e[r]||{}),a=t.options.resolveQuery;if(a){var u=a(o);"[object Object]"!==n.getDataType(u)?i.warn("请按格式返回参数： resolveQuery?:(jsonQuery:{[propName: string]: any;})=>{[propName: string]: any;}",t):e[r]=u}else{if(!n.assertDeepObject(o))return e;var l=encodeURIComponent(JSON.stringify(o));e[r]={query:l}}return e},t.parseQuery=function(e,t){var r=t.options.parseQuery;if(r)e=r(n.copyData(e)),"[object Object]"!==n.getDataType(e)&&i.warn("请按格式返回参数： parseQuery?:(jsonQuery:{[propName: string]: any;})=>{[propName: string]: any;}",t);else if(Reflect.get(e,"query")){var o=Reflect.get(e,"query"),a={query:decodeURIComponent(o)};try{if("object"==typeof(a=JSON.parse(a.query)))return a}catch(e){i.warn("尝试解析深度对象失败，按原样输出。"+e,t)}}return e}},314:function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__rest||function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.rewriteMethod=void 0;var a=r(366),i=r(789),u=r(883),l=["navigateTo","redirectTo","reLaunch","switchTab","navigateBack","preloadPage"];t.rewriteMethod=function(e){!1===e.options.keepUniOriginNav&&l.forEach((function(t){uni[t],uni[t]=function(r){!function(e,t,r,l){if(console.log(e),"reLaunch"===r&&'{"url":"/"}'===JSON.stringify(e)&&(u.warn("uni-app 原生方法：reLaunch({url:'/'}) 默认被重写啦！你可以使用 this.$Router.replaceAll() 或者 uni.reLaunch({url:'/?xxx=xxx'})",l,!0),r="navigateBack",e={from:"backbutton"}),"navigateBack"===r){var s=1;"[object Number]"===i.getDataType(e.delta)&&(s=e.delta),l.back(s,e)}else if("preloadPage"===r)l.preloadPage(e);else{var p=a.rewriteMethodToggle[r],c=e.url;c.startsWith("/")||u.warn("uni-app 原生方法被重写时，只能使用绝对路径进行跳转。"+JSON.stringify(e),l,!0);var f=e,h=(f.url,f.detail,n(f,["url","detail"]));if("switchTab"===r){c="/"+e.detail.pagePath;var y=i.routesForMapRoute(l,c,["pathMap","finallyPathList"]),v=i.getRoutePath(y).finallyPath;"[object Array]"===i.getDataType(v)&&u.warn("uni-app 原生方法跳转路径为："+c+"。此路为是tab页面时，不允许设置 alias 为数组的情况，并且不能为动态路由！当然你可以通过通配符*解决！",l,!0),"*"===v&&u.warn("uni-app 原生方法跳转路径为："+c+"。在路由表中找不到相关路由表！当然你可以通过通配符*解决！",l,!0),c=v}l[p](o({path:c},h))}}(r,0,t,e)}}))}}},t={},function r(o){if(t[o])return t[o].exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,r),n.exports}(607);var e,t}));